module.exports=[347020,a=>{"use strict";var b=a.i(475599);async function c(a,{address:c,blockNumber:d,blockTag:e=a.experimental_blockTag??"latest"}){let f="bigint"==typeof d?(0,b.numberToHex)(d):void 0;return BigInt(await a.request({method:"eth_getBalance",params:[c,f||e]}))}a.s(["getBalance",()=>c])},998393,a=>{"use strict";var b=a.i(847536),c=a.i(391961),d=a.i(173440),e=a.i(116395),f=a.i(299354);function g(a,{abi:g,address:h,args:i,docsPath:j,functionName:k,sender:l}){let m=a instanceof d.RawContractError?a:a instanceof c.BaseError?a.walk(a=>"data"in a)||a.walk():{},{code:n,data:o,details:p,message:q,shortMessage:r}=m,s=a instanceof b.AbiDecodingZeroDataError?new d.ContractFunctionZeroDataError({functionName:k}):[3,f.InternalRpcError.code].includes(n)&&(o||p||q||r)||n===f.InvalidInputRpcError.code&&"execution reverted"===p&&o?new d.ContractFunctionRevertedError({abi:g,data:"object"==typeof o?o.data:o,functionName:k,message:m instanceof e.RpcRequestError?p:r??q}):a;return new d.ContractFunctionExecutionError(s,{abi:g,args:i,contractAddress:h,docsPath:j,functionName:k,sender:l})}a.s(["getContractError",()=>g])},242391,a=>{"use strict";function b(a,b,c){let d=a[b.name];if("function"==typeof d)return d;let e=a[c];return"function"==typeof e?e:c=>b(a,c)}a.s(["getAction",()=>b])},823320,a=>{"use strict";var b=a.i(582183),c=a.i(38077),d=a.i(998393),e=a.i(242391),f=a.i(885182);async function g(a,g){let{abi:h,address:i,args:j,functionName:k,...l}=g,m=(0,c.encodeFunctionData)({abi:h,args:j,functionName:k});try{let{data:c}=await (0,e.getAction)(a,f.call,"call")({...l,data:m,to:i});return(0,b.decodeFunctionResult)({abi:h,args:j,functionName:k,data:c||"0x"})}catch(a){throw(0,d.getContractError)(a,{abi:h,address:i,args:j,docsPath:"/docs/contract/readContract",functionName:k})}}a.s(["readContract",()=>g])},464613,a=>{"use strict";var b=a.i(621256),c=a.i(327923),d=a.i(847536),e=a.i(391961),f=a.i(173440),g=a.i(582183),h=a.i(38077),i=a.i(116538),j=a.i(998393),k=a.i(242391),l=a.i(823320);async function m(a,m){let{account:n,authorizationList:o,allowFailure:p=!0,blockNumber:q,blockOverrides:r,blockTag:s,stateOverride:t}=m,u=m.contracts,{batchSize:v=m.batchSize??1024,deployless:w=m.deployless??!1}="object"==typeof a.batch?.multicall?a.batch.multicall:{},x=(()=>{if(m.multicallAddress)return m.multicallAddress;if(w)return null;if(a.chain)return(0,i.getChainContractAddress)({blockNumber:q,chain:a.chain,contract:"multicall3"});throw Error("client chain not configured. multicallAddress is required.")})(),y=[[]],z=0,A=0;for(let a=0;a<u.length;a++){let{abi:b,address:c,args:d,functionName:e}=u[a];try{let a=(0,h.encodeFunctionData)({abi:b,args:d,functionName:e});A+=(a.length-2)/2,v>0&&A>v&&y[z].length>0&&(z++,A=(a.length-2)/2,y[z]=[]),y[z]=[...y[z],{allowFailure:!0,callData:a,target:c}]}catch(f){let a=(0,j.getContractError)(f,{abi:b,address:c,args:d,docsPath:"/docs/contract/multicall",functionName:e,sender:n});if(!p)throw a;y[z]=[...y[z],{allowFailure:!0,callData:"0x",target:c}]}}let B=await Promise.allSettled(y.map(d=>(0,k.getAction)(a,l.readContract,"readContract")({...null===x?{code:c.multicall3Bytecode}:{address:x},abi:b.multicall3Abi,account:n,args:[d],authorizationList:o,blockNumber:q,blockOverrides:r,blockTag:s,functionName:"aggregate3",stateOverride:t}))),C=[];for(let a=0;a<B.length;a++){let b=B[a];if("rejected"===b.status){if(!p)throw b.reason;for(let c=0;c<y[a].length;c++)C.push({status:"failure",error:b.reason,result:void 0});continue}let c=b.value;for(let b=0;b<c.length;b++){let{returnData:e,success:h}=c[b],{callData:i}=y[a][b],{abi:k,address:l,functionName:m,args:n}=u[C.length];try{if("0x"===i)throw new d.AbiDecodingZeroDataError;if(!h)throw new f.RawContractError({data:e});let a=(0,g.decodeFunctionResult)({abi:k,args:n,data:e,functionName:m});C.push(p?{result:a,status:"success"}:a)}catch(b){let a=(0,j.getContractError)(b,{abi:k,address:l,args:n,docsPath:"/docs/contract/multicall",functionName:m});if(!p)throw a;C.push({error:a,result:void 0,status:"failure"})}}}if(C.length!==u.length)throw new e.BaseError("multicall results mismatch");return C}a.s(["multicall",()=>m])},682740,a=>{"use strict";var b=a.i(823320),c=a.i(391961);class d extends c.BaseError{constructor({data:a}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(a)}`],name:"EnsAvatarInvalidMetadataError"})}}class e extends c.BaseError{constructor({reason:a}){super(`ENS NFT avatar URI is invalid. ${a}`,{name:"EnsAvatarInvalidNftUriError"})}}class f extends c.BaseError{constructor({uri:a}){super(`Unable to resolve ENS avatar URI "${a}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class g extends c.BaseError{constructor({namespace:a}){super(`ENS NFT avatar namespace "${a}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}c.BaseError;let h=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,i=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,j=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,k=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function l(a){try{let b=await fetch(a,{method:"HEAD"});if(200===b.status){let a=b.headers.get("content-type");return a?.startsWith("image/")}return!1}catch(b){if("object"==typeof b&&void 0!==b.response||!Object.hasOwn(globalThis,"Image"))return!1;return new Promise(b=>{let c=new Image;c.onload=()=>{b(!0)},c.onerror=()=>{b(!1)},c.src=a})}}function m(a,b){return a?a.endsWith("/")?a.slice(0,-1):a:b}function n({uri:a,gatewayUrls:b}){let c=j.test(a);if(c)return{uri:a,isOnChain:!0,isEncoded:c};let d=m(b?.ipfs,"https://ipfs.io"),e=m(b?.arweave,"https://arweave.net"),g=a.match(h),{protocol:l,subpath:n,target:o,subtarget:p=""}=g?.groups||{},q="ipns:/"===l||"ipns/"===n,r="ipfs:/"===l||"ipfs/"===n||i.test(a);if(a.startsWith("http")&&!q&&!r){let c=a;return b?.arweave&&(c=a.replace(/https:\/\/arweave.net/g,b?.arweave)),{uri:c,isOnChain:!1,isEncoded:!1}}if((q||r)&&o)return{uri:`${d}/${q?"ipns":"ipfs"}/${o}${p}`,isOnChain:!1,isEncoded:!1};if("ar:/"===l&&o)return{uri:`${e}/${o}${p||""}`,isOnChain:!1,isEncoded:!1};let s=a.replace(k,"");if(s.startsWith("<svg")&&(s=`data:image/svg+xml;base64,${btoa(s)}`),s.startsWith("data:")||s.startsWith("{"))return{uri:s,isOnChain:!0,isEncoded:!1};throw new f({uri:a})}function o(a){if("object"!=typeof a||!("image"in a)&&!("image_url"in a)&&!("image_data"in a))throw new d({data:a});return a.image||a.image_url||a.image_data}async function p({gatewayUrls:a,uri:b}){try{let c=await fetch(b).then(a=>a.json());return await q({gatewayUrls:a,uri:o(c)})}catch{throw new f({uri:b})}}async function q({gatewayUrls:a,uri:b}){let{uri:c,isOnChain:d}=n({uri:b,gatewayUrls:a});if(d||await l(c))return c;throw new f({uri:b})}async function r(a,{nft:c}){if("erc721"===c.namespace)return(0,b.readContract)(a,{address:c.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(c.tokenID)]});if("erc1155"===c.namespace)return(0,b.readContract)(a,{address:c.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(c.tokenID)]});throw new g({namespace:c.namespace})}async function s(a,{gatewayUrls:b,record:c}){return/eip155:/i.test(c)?t(a,{gatewayUrls:b,record:c}):q({uri:c,gatewayUrls:b})}async function t(a,{gatewayUrls:b,record:c}){let d=function(a){let b=a;b.startsWith("did:nft:")&&(b=b.replace("did:nft:","").replace(/_/g,"/"));let[c,d,f]=b.split("/"),[g,h]=c.split(":"),[i,j]=d.split(":");if(!g||"eip155"!==g.toLowerCase())throw new e({reason:"Only EIP-155 supported"});if(!h)throw new e({reason:"Chain ID not found"});if(!j)throw new e({reason:"Contract address not found"});if(!f)throw new e({reason:"Token ID not found"});if(!i)throw new e({reason:"ERC namespace not found"});return{chainID:Number.parseInt(h,10),namespace:i.toLowerCase(),contractAddress:j,tokenID:f}}(c),{uri:f,isOnChain:g,isEncoded:h}=n({uri:await r(a,{nft:d}),gatewayUrls:b});if(g&&(f.includes("data:application/json;base64,")||f.startsWith("{")))return q({uri:o(JSON.parse(h?atob(f.replace("data:application/json;base64,","")):f)),gatewayUrls:b});let i=d.tokenID;return"erc1155"===d.namespace&&(i=i.replace("0x","").padStart(64,"0")),p({gatewayUrls:b,uri:f.replace(/(?:0x)?{id}/,i)})}a.s(["parseAvatarRecord",()=>s],682740)},98724,817835,246378,a=>{"use strict";var b=a.i(391961),c=a.i(173440);function d(a){if(!(a instanceof b.BaseError))return!1;let d=a.walk(a=>a instanceof c.ContractFunctionRevertedError);return d instanceof c.ContractFunctionRevertedError&&(d.data?.errorName==="HttpError"||d.data?.errorName==="ResolverError"||d.data?.errorName==="ResolverNotContract"||d.data?.errorName==="ResolverNotFound"||d.data?.errorName==="ReverseAddressMismatch"||d.data?.errorName==="UnsupportedResolverProfile")}a.s(["isNullUniversalResolverError",()=>d],98724);var e=a.i(470994),f=a.i(878694),g=a.i(475599),h=a.i(163977),i=a.i(369052);function j(a){if(66!==a.length||0!==a.indexOf("[")||65!==a.indexOf("]"))return null;let b=`0x${a.slice(1,65)}`;return(0,i.isHex)(b)?b:null}function k(a){let b=new Uint8Array(32).fill(0);if(!a)return(0,g.bytesToHex)(b);let c=a.split(".");for(let a=c.length-1;a>=0;a-=1){let d=j(c[a]),g=d?(0,f.toBytes)(d):(0,h.keccak256)((0,f.stringToBytes)(c[a]),"bytes");b=(0,h.keccak256)((0,e.concat)([b,g]),"bytes")}return(0,g.bytesToHex)(b)}function l(a){let b=a.replace(/^\.|\.$/gm,"");if(0===b.length)return new Uint8Array(1);let c=new Uint8Array((0,f.stringToBytes)(b).byteLength+2),d=0,e=b.split(".");for(let a=0;a<e.length;a++){var i;let b=(0,f.stringToBytes)(e[a]);b.byteLength>255&&(b=(0,f.stringToBytes)((i=function(a){let b=new Uint8Array(32).fill(0);return a?j(a)||(0,h.keccak256)((0,f.stringToBytes)(a)):(0,g.bytesToHex)(b)}(e[a]),`[${i.slice(2)}]`))),c[d]=b.length,c.set(b,d+1),d+=b.length+1}return c.byteLength!==d+1?c.slice(0,d+1):c}a.s(["namehash",()=>k],817835),a.s(["packetToBytes",()=>l],246378)},158046,293710,a=>{"use strict";var b=a.i(682740),c=a.i(242391),d=a.i(621256),e=a.i(582183),f=a.i(38077),g=a.i(116538),h=a.i(475599),i=a.i(98724),j=a.i(503748),k=a.i(817835),l=a.i(246378),m=a.i(823320);async function n(a,b){let{blockNumber:n,blockTag:o,key:p,name:q,gatewayUrls:r,strict:s}=b,{chain:t}=a,u=(()=>{if(b.universalResolverAddress)return b.universalResolverAddress;if(!t)throw Error("client chain not configured. universalResolverAddress is required.");return(0,g.getChainContractAddress)({blockNumber:n,chain:t,contract:"ensUniversalResolver"})})(),v=t?.ensTlds;if(v&&!v.some(a=>q.endsWith(a)))return null;try{let b={address:u,abi:d.universalResolverResolveAbi,args:[(0,h.toHex)((0,l.packetToBytes)(q)),(0,f.encodeFunctionData)({abi:d.textResolverAbi,functionName:"text",args:[(0,k.namehash)(q),p]}),r??[j.localBatchGatewayUrl]],functionName:"resolveWithGateways",blockNumber:n,blockTag:o},g=(0,c.getAction)(a,m.readContract,"readContract"),i=await g(b);if("0x"===i[0])return null;let s=(0,e.decodeFunctionResult)({abi:d.textResolverAbi,functionName:"text",data:i[0]});return""===s?null:s}catch(a){if(s)throw a;if((0,i.isNullUniversalResolverError)(a))return null;throw a}}async function o(a,{blockNumber:d,blockTag:e,assetGatewayUrls:f,name:g,gatewayUrls:h,strict:i,universalResolverAddress:j}){let k=await (0,c.getAction)(a,n,"getEnsText")({blockNumber:d,blockTag:e,key:"avatar",name:g,universalResolverAddress:j,gatewayUrls:h,strict:i});if(!k)return null;try{return await (0,b.parseAvatarRecord)(a,{record:k,gatewayUrls:f})}catch{return null}}a.s(["getEnsText",()=>n],293710),a.s(["getEnsAvatar",()=>o],158046)},349176,a=>{"use strict";function b(a){let b={formatters:void 0,fees:void 0,serializers:void 0,...a};return Object.assign(b,{extend:function a(b){return c=>{let d="function"==typeof c?c(b):c,e={...b,...d};return Object.assign(e,{extend:a(e)})}}(b)})}function c(){return{}}a.s(["defineChain",()=>b,"extendSchema",()=>c])},573754,a=>{"use strict";let b=(0,a.i(349176).defineChain)({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockTime:12e3,rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensUniversalResolver:{address:"0xeeeeeeee14d718c2b47d9923deab1335e144eeee",blockCreated:0x16041f6},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0xdb04c1}}});a.s(["mainnet",0,b])},273454,a=>{"use strict";var b=a.i(621256),c=a.i(116538),d=a.i(98724),e=a.i(503748),f=a.i(242391),g=a.i(823320);async function h(a,h){let{address:i,blockNumber:j,blockTag:k,coinType:l=60n,gatewayUrls:m,strict:n}=h,{chain:o}=a,p=(()=>{if(h.universalResolverAddress)return h.universalResolverAddress;if(!o)throw Error("client chain not configured. universalResolverAddress is required.");return(0,c.getChainContractAddress)({blockNumber:j,chain:o,contract:"ensUniversalResolver"})})();try{let c={address:p,abi:b.universalResolverReverseAbi,args:[i,l,m??[e.localBatchGatewayUrl]],functionName:"reverseWithGateways",blockNumber:j,blockTag:k},d=(0,f.getAction)(a,g.readContract,"readContract"),[h]=await d(c);return h||null}catch(a){if(n)throw a;if((0,d.isNullUniversalResolverError)(a))return null;throw a}}a.s(["getEnsName",()=>h])},916175,a=>{"use strict";var b=a.i(621256),c=a.i(582183),d=a.i(38077),e=a.i(116538),f=a.i(931470),g=a.i(475599),h=a.i(98724),i=a.i(503748),j=a.i(817835),k=a.i(246378),l=a.i(242391),m=a.i(823320);async function n(a,n){let{blockNumber:o,blockTag:p,coinType:q,name:r,gatewayUrls:s,strict:t}=n,{chain:u}=a,v=(()=>{if(n.universalResolverAddress)return n.universalResolverAddress;if(!u)throw Error("client chain not configured. universalResolverAddress is required.");return(0,e.getChainContractAddress)({blockNumber:o,chain:u,contract:"ensUniversalResolver"})})(),w=u?.ensTlds;if(w&&!w.some(a=>r.endsWith(a)))return null;let x=null!=q?[(0,j.namehash)(r),BigInt(q)]:[(0,j.namehash)(r)];try{let e=(0,d.encodeFunctionData)({abi:b.addressResolverAbi,functionName:"addr",args:x}),h={address:v,abi:b.universalResolverResolveAbi,functionName:"resolveWithGateways",args:[(0,g.toHex)((0,k.packetToBytes)(r)),e,s??[i.localBatchGatewayUrl]],blockNumber:o,blockTag:p},j=(0,l.getAction)(a,m.readContract,"readContract"),n=await j(h);if("0x"===n[0])return null;let q=(0,c.decodeFunctionResult)({abi:b.addressResolverAbi,args:x,functionName:"addr",data:n[0]});if("0x"===q||"0x00"===(0,f.trim)(q))return null;return q}catch(a){if(t)throw a;if((0,h.isNullUniversalResolverError)(a))return null;throw a}}a.s(["getEnsAddress",()=>n])},75858,403272,311639,844523,557283,983564,831369,530535,682450,230983,493048,695881,931888,82588,314384,974869,687616,66484,436962,128526,107944,719631,917686,785713,638472,21691,620850,318753,364706,959349,550398,44949,15615,a=>{"use strict";var b=a.i(116538),c=a.i(475599),d=a.i(246378),e=a.i(242391),f=a.i(823320);async function g(a,g){let{blockNumber:h,blockTag:i,name:j}=g,{chain:k}=a,l=(()=>{if(g.universalResolverAddress)return g.universalResolverAddress;if(!k)throw Error("client chain not configured. universalResolverAddress is required.");return(0,b.getChainContractAddress)({blockNumber:h,chain:k,contract:"ensUniversalResolver"})})(),m=k?.ensTlds;if(m&&!m.some(a=>j.endsWith(a)))throw Error(`${j} is not a valid ENS TLD (${m?.join(", ")}) for chain "${k.name}" (id: ${k.id}).`);let[n]=await (0,e.getAction)(a,f.readContract,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[(0,c.toHex)((0,d.packetToBytes)(j))],blockNumber:h,blockTag:i});return n}a.s(["getEnsResolver",()=>g],75858);var h=a.i(148542),i=a.i(350551),j=a.i(903098),k=a.i(597867),l=a.i(644210);async function m(a,b){let{account:d=a.account,blockNumber:e,blockTag:f="latest",blobs:g,data:m,gas:n,gasPrice:o,maxFeePerBlobGas:p,maxFeePerGas:q,maxPriorityFeePerGas:r,to:s,value:t,...u}=b,v=d?(0,h.parseAccount)(d):void 0;try{(0,l.assertRequest)(b);let d="bigint"==typeof e?(0,c.numberToHex)(e):void 0,h=a.chain?.formatters?.transactionRequest?.format,i=(h||k.formatTransactionRequest)({...(0,j.extract)(u,{format:h}),account:v,blobs:g,data:m,gas:n,gasPrice:o,maxFeePerBlobGas:p,maxFeePerGas:q,maxPriorityFeePerGas:r,to:s,value:t},"createAccessList"),w=await a.request({method:"eth_createAccessList",params:[i,d||f]});return{accessList:w.accessList,gasUsed:BigInt(w.gasUsed)}}catch(c){throw(0,i.getCallError)(c,{...b,account:v,chain:a.chain})}}function n(a,{method:b}){let c={};return"fallback"===a.transport.type&&a.transport.onResponse?.(({method:a,response:d,status:e,transport:f})=>{"success"===e&&b===a&&(c[d]=f.request)}),b=>c[b]||a.request}async function o(a){let b=n(a,{method:"eth_newBlockFilter"}),c=await a.request({method:"eth_newBlockFilter"});return{id:c,request:b(c),type:"block"}}a.s(["createAccessList",()=>m],403272),a.s(["createBlockFilter",()=>o],311639);var p=a.i(847536),q=a.i(391961);class r extends q.BaseError{constructor(a){super(`Filter type "${a}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}var s=a.i(878694),t=a.i(163977),u=a.i(471950),v=a.i(141221),w=a.i(226981),x=a.i(907973);let y="/docs/contract/encodeEventTopics";function z(a){let{abi:b,eventName:c,args:d}=a,e=b[0];if(c){let a=(0,x.getAbiItem)({abi:b,name:c});if(!a)throw new p.AbiEventNotFoundError(c,{docsPath:y});e=a}if("event"!==e.type)throw new p.AbiEventNotFoundError(void 0,{docsPath:y});let f=(0,w.formatAbiItem)(e),g=(0,u.toEventSelector)(f),h=[];if(d&&"inputs"in e){let a=e.inputs?.filter(a=>"indexed"in a&&a.indexed),b=Array.isArray(d)?d:Object.values(d).length>0?a?.map(a=>d[a.name])??[]:[];b.length>0&&(h=a?.map((a,c)=>Array.isArray(b[c])?b[c].map((d,e)=>A({param:a,value:b[c][e]})):void 0!==b[c]&&null!==b[c]?A({param:a,value:b[c]}):null)??[])}return[g,...h]}function A({param:a,value:b}){if("string"===a.type||"bytes"===a.type)return(0,t.keccak256)((0,s.toBytes)(b));if("tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/))throw new r(a.type);return(0,v.encodeAbiParameters)([a],[b])}async function B(a,b){let{address:d,abi:e,args:f,eventName:g,fromBlock:h,strict:i,toBlock:j}=b,k=n(a,{method:"eth_newFilter"}),l=g?z({abi:e,args:f,eventName:g}):void 0,m=await a.request({method:"eth_newFilter",params:[{address:d,fromBlock:"bigint"==typeof h?(0,c.numberToHex)(h):h,toBlock:"bigint"==typeof j?(0,c.numberToHex)(j):j,topics:l}]});return{abi:e,args:f,eventName:g,id:m,request:k(m),strict:!!i,type:"event"}}async function C(a,{address:b,args:d,event:e,events:f,fromBlock:g,strict:h,toBlock:i}={}){let j=f??(e?[e]:void 0),k=n(a,{method:"eth_newFilter"}),l=[];j&&(l=[j.flatMap(a=>z({abi:[a],eventName:a.name,args:d}))],e&&(l=l[0]));let m=await a.request({method:"eth_newFilter",params:[{address:b,fromBlock:"bigint"==typeof g?(0,c.numberToHex)(g):g,toBlock:"bigint"==typeof i?(0,c.numberToHex)(i):i,...l.length?{topics:l}:{}}]});return{abi:j,args:d,eventName:e?e.name:void 0,fromBlock:g,id:m,request:k(m),strict:!!h,toBlock:i,type:"event"}}async function D(a){let b=n(a,{method:"eth_newPendingTransactionFilter"}),c=await a.request({method:"eth_newPendingTransactionFilter"});return{id:c,request:b(c),type:"transaction"}}a.s(["encodeEventTopics",()=>z],844523),a.s(["createContractEventFilter",()=>B],557283),a.s(["createEventFilter",()=>C],983564),a.s(["createPendingTransactionFilter",()=>D],831369);var E=a.i(38077),F=a.i(998393);a.s(["estimateGas",()=>aM],44949);var G=a.i(355612),H=a.i(369052),I=a.i(805554),J=a.i(154561);async function K({hash:b,signature:d}){let e=(0,H.isHex)(b)?b:(0,c.toHex)(b),{secp256k1:f}=await a.A(964896),g=(()=>{if("object"==typeof d&&"r"in d&&"s"in d){let{r:a,s:b,v:c,yParity:e}=d,g=L(Number(e??c));return new f.Signature((0,J.hexToBigInt)(a),(0,J.hexToBigInt)(b)).addRecoveryBit(g)}let a=(0,H.isHex)(d)?d:(0,c.toHex)(d);if(65!==(0,I.size)(a))throw Error("invalid signature length");let b=L((0,J.hexToNumber)(`0x${a.slice(130)}`));return f.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(b)})().recoverPublicKey(e.substring(2)).toHex(!1);return`0x${g}`}function L(a){if(0===a||1===a)return a;if(27===a)return 0;if(28===a)return 1;throw Error("Invalid yParityOrV value")}async function M({hash:a,signature:b}){var c;let d;return c=await K({hash:a,signature:b}),d=(0,t.keccak256)(`0x${c.substring(4)}`).substring(26),(0,G.checksumAddress)(`0x${d}`)}a.s(["recoverAddress",()=>M],530535);var N=a.i(470994),O=a.i(594297);function P(a,b="hex"){let d=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=Q(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=Q((g="string"==typeof(d=b)?(0,s.hexToBytes)(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),e=(0,O.createCursor)(new Uint8Array(d.length));return(d.encode(e),"hex"===b)?(0,c.bytesToHex)(e.bytes):e.bytes}function Q(a){if(a<256)return 1;if(a<65536)return 2;if(a<0x1000000)return 3;if(a<0x100000000)return 4;throw new q.BaseError("Length is too large.")}async function R(a){let{authorization:b,signature:d}=a;return M({hash:function(a){let{chainId:b,nonce:d,to:e}=a,f=a.contractAddress??a.address,g=(0,t.keccak256)((0,N.concatHex)(["0x05",P([b?(0,c.numberToHex)(b):"0x",f,d?(0,c.numberToHex)(d):"0x"])]));return"bytes"===e?(0,s.hexToBytes)(g):g}(b),signature:d??b})}a.s(["toRlp",()=>P],682450),a.s(["recoverAuthorizationAddress",()=>R],230983);var S=a.i(84745),T=a.i(797307),U=q,V=a.i(956221);class W extends U.BaseError{constructor(a,{account:b,docsPath:c,chain:d,data:e,gas:f,gasPrice:g,maxFeePerGas:h,maxPriorityFeePerGas:i,nonce:j,to:k,value:l}){const m=(0,V.prettyPrint)({from:b?.address,to:k,value:void 0!==l&&`${(0,S.formatEther)(l)} ${d?.nativeCurrency?.symbol||"ETH"}`,data:e,gas:f,gasPrice:void 0!==g&&`${(0,T.formatGwei)(g)} gwei`,maxFeePerGas:void 0!==h&&`${(0,T.formatGwei)(h)} gwei`,maxPriorityFeePerGas:void 0!==i&&`${(0,T.formatGwei)(i)} gwei`,nonce:j});super(a.shortMessage,{cause:a,docsPath:c,metaMessages:[...a.metaMessages?[...a.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=a}}var X=a.i(827945),Y=a.i(16566),Z=a.i(968551);a.s(["defaultParameters",()=>aI,"prepareTransactionRequest",()=>aL],550398);var $=q;class _ extends $.BaseError{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class aa extends $.BaseError{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class ab extends $.BaseError{constructor({maxPriorityFeePerGas:a}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${(0,T.formatGwei)(a)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}var ac=q;class ad extends ac.BaseError{constructor({blockHash:a,blockNumber:b}){let c="Block";a&&(c=`Block at hash "${a}"`),b&&(c=`Block at number "${b}"`),super(`${c} could not be found.`,{name:"BlockNotFoundError"})}}a.s(["BlockNotFoundError",()=>ad],493048);var ae=a.i(505932);let af={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function ag(a,b){let c={...a,blockHash:a.blockHash?a.blockHash:null,blockNumber:a.blockNumber?BigInt(a.blockNumber):null,chainId:a.chainId?(0,J.hexToNumber)(a.chainId):void 0,gas:a.gas?BigInt(a.gas):void 0,gasPrice:a.gasPrice?BigInt(a.gasPrice):void 0,maxFeePerBlobGas:a.maxFeePerBlobGas?BigInt(a.maxFeePerBlobGas):void 0,maxFeePerGas:a.maxFeePerGas?BigInt(a.maxFeePerGas):void 0,maxPriorityFeePerGas:a.maxPriorityFeePerGas?BigInt(a.maxPriorityFeePerGas):void 0,nonce:a.nonce?(0,J.hexToNumber)(a.nonce):void 0,to:a.to?a.to:null,transactionIndex:a.transactionIndex?Number(a.transactionIndex):null,type:a.type?af[a.type]:void 0,typeHex:a.type?a.type:void 0,value:a.value?BigInt(a.value):void 0,v:a.v?BigInt(a.v):void 0};return a.authorizationList&&(c.authorizationList=a.authorizationList.map(a=>({address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:a.r,s:a.s,yParity:Number(a.yParity)}))),c.yParity=(()=>{if(a.yParity)return Number(a.yParity);if("bigint"==typeof c.v){if(0n===c.v||27n===c.v)return 0;if(1n===c.v||28n===c.v)return 1;if(c.v>=35n)return+(c.v%2n===0n)}})(),"legacy"===c.type&&(delete c.accessList,delete c.maxFeePerBlobGas,delete c.maxFeePerGas,delete c.maxPriorityFeePerGas,delete c.yParity),"eip2930"===c.type&&(delete c.maxFeePerBlobGas,delete c.maxFeePerGas,delete c.maxPriorityFeePerGas),"eip1559"===c.type&&delete c.maxFeePerBlobGas,c}let ah=(0,ae.defineFormatter)("transaction",ag);function ai(a,b){let c=(a.transactions??[]).map(a=>"string"==typeof a?a:ag(a));return{...a,baseFeePerGas:a.baseFeePerGas?BigInt(a.baseFeePerGas):null,blobGasUsed:a.blobGasUsed?BigInt(a.blobGasUsed):void 0,difficulty:a.difficulty?BigInt(a.difficulty):void 0,excessBlobGas:a.excessBlobGas?BigInt(a.excessBlobGas):void 0,gasLimit:a.gasLimit?BigInt(a.gasLimit):void 0,gasUsed:a.gasUsed?BigInt(a.gasUsed):void 0,hash:a.hash?a.hash:null,logsBloom:a.logsBloom?a.logsBloom:null,nonce:a.nonce?a.nonce:null,number:a.number?BigInt(a.number):null,size:a.size?BigInt(a.size):void 0,timestamp:a.timestamp?BigInt(a.timestamp):void 0,transactions:c,totalDifficulty:a.totalDifficulty?BigInt(a.totalDifficulty):null}}a.s(["defineTransaction",0,ah,"formatTransaction",()=>ag,"transactionType",0,af],695881);let aj=(0,ae.defineFormatter)("block",ai);async function ak(a,{blockHash:b,blockNumber:d,blockTag:e=a.experimental_blockTag??"latest",includeTransactions:f}={}){let g=f??!1,h=void 0!==d?(0,c.numberToHex)(d):void 0,i=null;if(!(i=b?await a.request({method:"eth_getBlockByHash",params:[b,g]},{dedupe:!0}):await a.request({method:"eth_getBlockByNumber",params:[h||e,g]},{dedupe:!!h})))throw new ad({blockHash:b,blockNumber:d});return(a.chain?.formatters?.block?.format||ai)(i,"getBlock")}async function al(a){return BigInt(await a.request({method:"eth_gasPrice"}))}async function am(a,b){return an(a,b)}async function an(a,b){let{block:c,chain:d=a.chain,request:f}=b||{};try{let b=d?.fees?.maxPriorityFeePerGas??d?.fees?.defaultPriorityFee;if("function"==typeof b){let d=c||await (0,e.getAction)(a,ak,"getBlock")({}),g=await b({block:d,client:a,request:f});if(null===g)throw Error();return g}if(void 0!==b)return b;let g=await a.request({method:"eth_maxPriorityFeePerGas"});return(0,J.hexToBigInt)(g)}catch{let[b,d]=await Promise.all([c?Promise.resolve(c):(0,e.getAction)(a,ak,"getBlock")({}),(0,e.getAction)(a,al,"getGasPrice")({})]);if("bigint"!=typeof b.baseFeePerGas)throw new aa;let f=d-b.baseFeePerGas;if(f<0n)return 0n;return f}}async function ao(a,b){return ap(a,b)}async function ap(a,b){let{block:c,chain:d=a.chain,request:f,type:g="eip1559"}=b||{},h=await (async()=>"function"==typeof d?.fees?.baseFeeMultiplier?d.fees.baseFeeMultiplier({block:c,client:a,request:f}):d?.fees?.baseFeeMultiplier??1.2)();if(h<1)throw new _;let i=h.toString().split(".")[1]?.length??0,j=10**i,k=a=>a*BigInt(Math.ceil(h*j))/BigInt(j),l=c||await (0,e.getAction)(a,ak,"getBlock")({});if("function"==typeof d?.fees?.estimateFeesPerGas){let b=await d.fees.estimateFeesPerGas({block:c,client:a,multiply:k,request:f,type:g});if(null!==b)return b}if("eip1559"===g){if("bigint"!=typeof l.baseFeePerGas)throw new aa;let b="bigint"==typeof f?.maxPriorityFeePerGas?f.maxPriorityFeePerGas:await an(a,{block:l,chain:d,request:f}),c=k(l.baseFeePerGas);return{maxFeePerGas:f?.maxFeePerGas??c+b,maxPriorityFeePerGas:b}}return{gasPrice:f?.gasPrice??k(await (0,e.getAction)(a,al,"getGasPrice")({}))}}async function aq(a,{address:b,blockTag:d="latest",blockNumber:e}){let f=await a.request({method:"eth_getTransactionCount",params:[b,"bigint"==typeof e?(0,c.numberToHex)(e):d]},{dedupe:!!e});return(0,J.hexToNumber)(f)}function ar(a){let{kzg:b}=a,d=a.to??("string"==typeof a.blobs[0]?"hex":"bytes"),e="string"==typeof a.blobs[0]?a.blobs.map(a=>(0,s.hexToBytes)(a)):a.blobs,f=[];for(let a of e)f.push(Uint8Array.from(b.blobToKzgCommitment(a)));return"bytes"===d?f:f.map(a=>(0,c.bytesToHex)(a))}function as(a){let{kzg:b}=a,d=a.to??("string"==typeof a.blobs[0]?"hex":"bytes"),e="string"==typeof a.blobs[0]?a.blobs.map(a=>(0,s.hexToBytes)(a)):a.blobs,f="string"==typeof a.commitments[0]?a.commitments.map(a=>(0,s.hexToBytes)(a)):a.commitments,g=[];for(let a=0;a<e.length;a++){let c=e[a],d=f[a];g.push(Uint8Array.from(b.computeBlobKzgProof(c,d)))}return"bytes"===d?g:g.map(a=>(0,c.bytesToHex)(a))}a.s(["defineBlock",0,aj,"formatBlock",()=>ai],931888),a.s(["getBlock",()=>ak],82588),a.s(["getGasPrice",()=>al],314384),a.s(["estimateMaxPriorityFeePerGas",()=>am,"internal_estimateMaxPriorityFeePerGas",()=>an],974869),a.s(["estimateFeesPerGas",()=>ao,"internal_estimateFeesPerGas",()=>ap],687616),a.s(["getTransactionCount",()=>aq],66484),a.s(["blobsToCommitments",()=>ar],436962),a.s(["blobsToProofs",()=>as],128526);var at=a.i(444570);at.SHA256;let au=at.sha256;function av(a,b){let d=au((0,H.isHex)(a,{strict:!1})?(0,s.toBytes)(a):a);return"bytes"===(b||"hex")?d:(0,c.toHex)(d)}function aw(a){let{commitments:b,version:d}=a,e=a.to??("string"==typeof b[0]?"hex":"bytes"),f=[];for(let a of b)f.push(function(a){let{commitment:b,version:d=1}=a,e=a.to??("string"==typeof b?"hex":"bytes"),f=av(b,"bytes");return f.set([d],0),"bytes"===e?f:(0,c.bytesToHex)(f)}({commitment:a,to:e,version:d}));return f}at.SHA224,at.sha224,a.s(["sha256",0,au],107944),a.s(["sha256",()=>av],719631),a.s(["commitmentsToVersionedHashes",()=>aw],917686);a.s(["versionedHashVersionKzg",0,1],785713);var ax=q;class ay extends ax.BaseError{constructor({maxSize:a,size:b}){super("Blob size is too large.",{metaMessages:[`Max: ${a} bytes`,`Given: ${b} bytes`],name:"BlobSizeTooLargeError"})}}class az extends ax.BaseError{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class aA extends ax.BaseError{constructor({hash:a,size:b}){super(`Versioned hash "${a}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${b}`],name:"InvalidVersionedHashSizeError"})}}class aB extends ax.BaseError{constructor({hash:a,version:b}){super(`Versioned hash "${a}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${b}`],name:"InvalidVersionedHashVersionError"})}}function aC(a){let{data:b,kzg:d,to:e}=a,f=a.blobs??function(a){let b=a.to??("string"==typeof a.data?"hex":"bytes"),d="string"==typeof a.data?(0,s.hexToBytes)(a.data):a.data,e=(0,I.size)(d);if(!e)throw new az;if(e>761855)throw new ay({maxSize:761855,size:e});let f=[],g=!0,h=0;for(;g;){let a=(0,O.createCursor)(new Uint8Array(131072)),b=0;for(;b<4096;){let c=d.slice(h,h+31);if(a.pushByte(0),a.pushBytes(c),c.length<31){a.pushByte(128),g=!1;break}b++,h+=31}f.push(a)}return"bytes"===b?f.map(a=>a.bytes):f.map(a=>(0,c.bytesToHex)(a.bytes))}({data:b,to:e}),g=a.commitments??ar({blobs:f,kzg:d,to:e}),h=a.proofs??as({blobs:f,commitments:g,kzg:d,to:e}),i=[];for(let a=0;a<f.length;a++)i.push({blob:f[a],commitment:g[a],proof:h[a]});return i}a.s(["BlobSizeTooLargeError",()=>ay,"EmptyBlobError",()=>az,"InvalidVersionedHashSizeError",()=>aA,"InvalidVersionedHashVersionError",()=>aB],638472),a.s(["toBlobSidecars",()=>aC],21691);var aD=a.i(795607);function aE(a){if(a.type)return a.type;if(void 0!==a.authorizationList)return"eip7702";if(void 0!==a.blobs||void 0!==a.blobVersionedHashes||void 0!==a.maxFeePerBlobGas||void 0!==a.sidecars)return"eip4844";if(void 0!==a.maxFeePerGas||void 0!==a.maxPriorityFeePerGas)return"eip1559";if(void 0!==a.gasPrice)return void 0!==a.accessList?"eip2930":"legacy";throw new V.InvalidSerializableTransactionError({transaction:a})}function aF(a,{docsPath:b,...c}){let d,e=(d=(0,Y.getNodeError)(a,c))instanceof X.UnknownNodeError?a:d;return new V.TransactionExecutionError(e,{docsPath:b,...c})}async function aG(a){let b=await a.request({method:"eth_chainId"},{dedupe:!0});return(0,J.hexToNumber)(b)}async function aH(a,b){let{account:c=a.account,accessList:d,authorizationList:f,chain:g=a.chain,blobVersionedHashes:i,blobs:m,data:n,gas:o,gasPrice:p,maxFeePerBlobGas:q,maxFeePerGas:r,maxPriorityFeePerGas:s,nonce:t,nonceManager:u,to:v,type:w,value:x,...y}=b,z=await (async()=>{if(!c||!u||void 0!==t)return t;let b=(0,h.parseAccount)(c),d=g?g.id:await (0,e.getAction)(a,aG,"getChainId")({});return await u.consume({address:b.address,chainId:d,client:a})})();(0,l.assertRequest)(b);let A=g?.formatters?.transactionRequest?.format,B=(A||k.formatTransactionRequest)({...(0,j.extract)(y,{format:A}),account:c?(0,h.parseAccount)(c):void 0,accessList:d,authorizationList:f,blobs:m,blobVersionedHashes:i,data:n,gas:o,gasPrice:p,maxFeePerBlobGas:q,maxFeePerGas:r,maxPriorityFeePerGas:s,nonce:z,to:v,type:w,value:x},"fillTransaction");try{let c=await a.request({method:"eth_fillTransaction",params:[B]}),d=(g?.formatters?.transaction?.format||ag)(c.tx);delete d.blockHash,delete d.blockNumber,delete d.r,delete d.s,delete d.transactionIndex,delete d.v,delete d.yParity,d.data=d.input,d.gas&&(d.gas=b.gas??d.gas),d.gasPrice&&(d.gasPrice=b.gasPrice??d.gasPrice),d.maxFeePerBlobGas&&(d.maxFeePerBlobGas=b.maxFeePerBlobGas??d.maxFeePerBlobGas),d.maxFeePerGas&&(d.maxFeePerGas=b.maxFeePerGas??d.maxFeePerGas),d.maxPriorityFeePerGas&&(d.maxPriorityFeePerGas=b.maxPriorityFeePerGas??d.maxPriorityFeePerGas),d.nonce&&(d.nonce=b.nonce??d.nonce);let f=await (async()=>{if("function"==typeof g?.fees?.baseFeeMultiplier){let c=await (0,e.getAction)(a,ak,"getBlock")({});return g.fees.baseFeeMultiplier({block:c,client:a,request:b})}return g?.fees?.baseFeeMultiplier??1.2})();if(f<1)throw new _;let h=f.toString().split(".")[1]?.length??0,i=10**h,j=a=>a*BigInt(Math.ceil(f*i))/BigInt(i);return d.maxFeePerGas&&!b.maxFeePerGas&&(d.maxFeePerGas=j(d.maxFeePerGas)),d.gasPrice&&!b.gasPrice&&(d.gasPrice=j(d.gasPrice)),{raw:c.raw,transaction:{from:B.from,...d}}}catch(c){throw aF(c,{...b,chain:a.chain})}}a.s(["getTransactionType",()=>aE],620850),a.s(["getTransactionError",()=>aF],318753),a.s(["getChainId",()=>aG],364706),a.s(["fillTransaction",()=>aH],959349);let aI=["blobVersionedHashes","chainId","fees","gas","nonce","type"],aJ=new Map,aK=new aD.LruMap(128);async function aL(a,b){let c,d,f=b;f.account??=a.account,f.parameters??=aI;let{account:g,chain:i=a.chain,nonceManager:j,parameters:k}=f,m="function"==typeof i?.prepareTransactionRequest?{fn:i.prepareTransactionRequest,runAt:["beforeFillTransaction"]}:Array.isArray(i?.prepareTransactionRequest)?{fn:i.prepareTransactionRequest[0],runAt:i.prepareTransactionRequest[1].runAt}:void 0;async function n(){return c?c:void 0!==f.chainId?f.chainId:i?i.id:c=await (0,e.getAction)(a,aG,"getChainId")({})}let o=g?(0,h.parseAccount)(g):g,p=f.nonce;if(k.includes("nonce")&&void 0===p&&o&&j){let b=await n();p=await j.consume({address:o.address,chainId:b,client:a})}m?.fn&&m.runAt?.includes("beforeFillTransaction")&&(f=await m.fn({...f,chain:i},{phase:"beforeFillTransaction"}),p??=f.nonce);let q=(!(k.includes("blobVersionedHashes")||k.includes("sidecars"))||!f.kzg||!f.blobs)&&!1!==aK.get(a.uid)&&["fees","gas"].some(a=>k.includes(a))&&(k.includes("chainId")&&"number"!=typeof f.chainId||k.includes("nonce")&&"number"!=typeof p||k.includes("fees")&&"bigint"!=typeof f.gasPrice&&("bigint"!=typeof f.maxFeePerGas||"bigint"!=typeof f.maxPriorityFeePerGas)||k.includes("gas")&&"bigint"!=typeof f.gas)?await (0,e.getAction)(a,aH,"fillTransaction")({...f,nonce:p}).then(b=>{let{chainId:c,from:d,gas:e,gasPrice:g,nonce:h,maxFeePerBlobGas:i,maxFeePerGas:j,maxPriorityFeePerGas:k,type:l,...m}=b.transaction;return aK.set(a.uid,!0),{...f,...d?{from:d}:{},...l?{type:l}:{},...void 0!==c?{chainId:c}:{},...void 0!==e?{gas:e}:{},...void 0!==g?{gasPrice:g}:{},...void 0!==h?{nonce:h}:{},...void 0!==i?{maxFeePerBlobGas:i}:{},...void 0!==j?{maxFeePerGas:j}:{},...void 0!==k?{maxPriorityFeePerGas:k}:{},..."nonceKey"in m&&void 0!==m.nonceKey?{nonceKey:m.nonceKey}:{}}}).catch(b=>("TransactionExecutionError"!==b.name||b.walk?.(a=>"MethodNotFoundRpcError"===a.name||"MethodNotSupportedRpcError"===a.name)&&aK.set(a.uid,!1),f)):f;p??=q.nonce;let{blobs:r,gas:s,kzg:t,type:u}=f={...q,...o?{from:o?.address}:{},...p?{nonce:p}:{}};async function v(){return d||(d=await (0,e.getAction)(a,ak,"getBlock")({blockTag:"latest"}))}if(m?.fn&&m.runAt?.includes("beforeFillParameters")&&(f=await m.fn({...f,chain:i},{phase:"beforeFillParameters"})),k.includes("nonce")&&void 0===p&&o&&!j&&(f.nonce=await (0,e.getAction)(a,aq,"getTransactionCount")({address:o.address,blockTag:"pending"})),(k.includes("blobVersionedHashes")||k.includes("sidecars"))&&r&&t){let a=ar({blobs:r,kzg:t});if(k.includes("blobVersionedHashes")){let b=aw({commitments:a,to:"hex"});f.blobVersionedHashes=b}if(k.includes("sidecars")){let b=as({blobs:r,commitments:a,kzg:t}),c=aC({blobs:r,commitments:a,proofs:b,to:"hex"});f.sidecars=c}}if(k.includes("chainId")&&(f.chainId=await n()),(k.includes("fees")||k.includes("type"))&&void 0===u)try{f.type=aE(f)}catch{let b=aJ.get(a.uid);if(void 0===b){let c=await v();b="bigint"==typeof c?.baseFeePerGas,aJ.set(a.uid,b)}f.type=b?"eip1559":"legacy"}if(k.includes("fees"))if("legacy"!==f.type&&"eip2930"!==f.type){if(void 0===f.maxFeePerGas||void 0===f.maxPriorityFeePerGas){let b=await v(),{maxFeePerGas:c,maxPriorityFeePerGas:d}=await ap(a,{block:b,chain:i,request:f});if(void 0===f.maxPriorityFeePerGas&&f.maxFeePerGas&&f.maxFeePerGas<d)throw new ab({maxPriorityFeePerGas:d});f.maxPriorityFeePerGas=d,f.maxFeePerGas=c}}else{if(void 0!==f.maxFeePerGas||void 0!==f.maxPriorityFeePerGas)throw new aa;if(void 0===f.gasPrice){let b=await v(),{gasPrice:c}=await ap(a,{block:b,chain:i,request:f,type:"legacy"});f.gasPrice=c}}return k.includes("gas")&&void 0===s&&(f.gas=await (0,e.getAction)(a,aM,"estimateGas")({...f,account:o,prepare:o?.type==="local"?[]:["blobVersionedHashes"]})),m?.fn&&m.runAt?.includes("afterFillParameters")&&(f=await m.fn({...f,chain:i},{phase:"afterFillParameters"})),(0,l.assertRequest)(f),delete f.parameters,f}async function aM(a,b){let{account:d=a.account,prepare:e=!0}=b,f=d?(0,h.parseAccount)(d):void 0,g=Array.isArray(e)?e:f?.type!=="local"?["blobVersionedHashes"]:void 0;try{let d=await (async()=>b.to?b.to:b.authorizationList&&b.authorizationList.length>0?await R({authorization:b.authorizationList[0]}).catch(()=>{throw new q.BaseError("`to` is required. Could not infer from `authorizationList`")}):void 0)(),{accessList:h,authorizationList:i,blobs:m,blobVersionedHashes:n,blockNumber:o,blockTag:p,data:r,gas:s,gasPrice:t,maxFeePerBlobGas:u,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:x,value:y,stateOverride:z,...A}=e?await aL(a,{...b,parameters:g,to:d}):b;if(s&&b.gas!==s)return s;let B=("bigint"==typeof o?(0,c.numberToHex)(o):void 0)||p,C=(0,Z.serializeStateOverride)(z);(0,l.assertRequest)(b);let D=a.chain?.formatters?.transactionRequest?.format,E=(D||k.formatTransactionRequest)({...(0,j.extract)(A,{format:D}),account:f,accessList:h,authorizationList:i,blobs:m,blobVersionedHashes:n,data:r,gasPrice:t,maxFeePerBlobGas:u,maxFeePerGas:v,maxPriorityFeePerGas:w,nonce:x,to:d,value:y},"estimateGas");return BigInt(await a.request({method:"eth_estimateGas",params:C?[E,B??a.experimental_blockTag??"latest",C]:B?[E,B]:[E]}))}catch(c){throw function(a,{docsPath:b,...c}){let d;return new W((d=(0,Y.getNodeError)(a,c))instanceof X.UnknownNodeError?a:d,{docsPath:b,...c})}(c,{...b,account:f,chain:a.chain})}}async function aN(a,b){let{abi:c,address:d,args:f,functionName:g,dataSuffix:i="string"==typeof a.dataSuffix?a.dataSuffix:a.dataSuffix?.value,...j}=b,k=(0,E.encodeFunctionData)({abi:c,args:f,functionName:g});try{return await (0,e.getAction)(a,aM,"estimateGas")({data:`${k}${i?i.replace("0x",""):""}`,to:d,...j})}catch(b){let a=j.account?(0,h.parseAccount)(j.account):void 0;throw(0,F.getContractError)(b,{abi:c,address:d,args:f,docsPath:"/docs/contract/estimateContractGas",functionName:g,sender:a?.address})}}a.s(["estimateContractGas",()=>aN],15615)},417043,438265,108567,477963,859910,429564,173737,238420,392787,128620,322550,85733,848486,484539,902164,101038,689711,291609,a=>{"use strict";async function b(a){return BigInt(await a.request({method:"eth_blobBaseFee"}))}a.s(["getBlobBaseFee",()=>b],417043);let c=new Map,d=new Map;async function e(a,{cacheKey:b,cacheTime:e=1/0}){let f,g,h,i=(g=(f=(a,b)=>({clear:()=>b.delete(a),get:()=>b.get(a),set:c=>b.set(a,c)}))(b,c),{clear:()=>{g.clear(),h.clear()},promise:g,response:h=f(b,d)}),j=i.response.get();if(j&&e>0&&Date.now()-j.created.getTime()<e)return j.data;let k=i.promise.get();k||(k=a(),i.promise.set(k));try{let a=await k;return i.response.set({created:new Date,data:a}),a}finally{i.promise.clear()}}async function f(a,{cacheTime:b=a.cacheTime}={}){let c;return BigInt(await e(()=>a.request({method:"eth_blockNumber"}),{cacheKey:(c=a.uid,`blockNumber.${c}`),cacheTime:b}))}a.s(["getBlockNumber",()=>f],438265);var g=a.i(154561),h=a.i(475599);async function i(a,{blockHash:b,blockNumber:c,blockTag:d="latest"}={}){let e,f=void 0!==c?(0,h.numberToHex)(c):void 0;return e=b?await a.request({method:"eth_getBlockTransactionCountByHash",params:[b]},{dedupe:!0}):await a.request({method:"eth_getBlockTransactionCountByNumber",params:[f||d]},{dedupe:!!f}),(0,g.hexToNumber)(e)}async function j(a,{address:b,blockNumber:c,blockTag:d="latest"}){let e=void 0!==c?(0,h.numberToHex)(c):void 0,f=await a.request({method:"eth_getCode",params:[b,e||d]},{dedupe:!!e});if("0x"!==f)return f}a.s(["getBlockTransactionCount",()=>i],108567),a.s(["getCode",()=>j],477963);var k=a.i(907973),l=a.i(242391),m=a.i(844523),n=a.i(492193),o=a.i(878694),p=a.i(163977),q=a.i(471950),r=a.i(847536),s=a.i(334665),t=a.i(805554),u=a.i(278166),v=a.i(226981);let w="/docs/contract/decodeEventLog";function x(a){let{abi:b,data:c,strict:d,topics:e}=a,f=d??!0,[g,...h]=e;if(!g)throw new r.AbiEventSignatureEmptyTopicsError({docsPath:w});let i=b.find(a=>"event"===a.type&&g===(0,q.toEventSelector)((0,v.formatAbiItem)(a)));if(!(i&&"name"in i)||"event"!==i.type)throw new r.AbiEventSignatureNotFoundError(g,{docsPath:w});let{name:j,inputs:k}=i,l=k?.some(a=>!("name"in a&&a.name)),m=l?[]:{},n=k.map((a,b)=>[a,b]).filter(([a])=>"indexed"in a&&a.indexed),o=[];for(let a=0;a<n.length;a++){let[b,c]=n[a],d=h[a];if(!d){if(f)throw new r.DecodeLogTopicsMismatch({abiItem:i,param:b});o.push([b,c]);continue}m[l?c:b.name||c]=function({param:a,value:b}){return"string"===a.type||"bytes"===a.type||"tuple"===a.type||a.type.match(/^(.*)\[(\d+)?\]$/)?b:((0,u.decodeAbiParameters)([a],b)||[])[0]}({param:b,value:d})}let p=k.filter(a=>!("indexed"in a&&a.indexed)),x=f?p:[...o.map(([a])=>a),...p];if(x.length>0){if(c&&"0x"!==c)try{let a=(0,u.decodeAbiParameters)(x,c);if(a){let b=0;if(!f)for(let[c,d]of o)m[l?d:c.name||d]=a[b++];if(l)for(let c=0;c<k.length;c++)void 0===m[c]&&b<a.length&&(m[c]=a[b++]);else for(let c=0;c<p.length;c++)m[p[c].name]=a[b++]}}catch(a){if(f){if(a instanceof r.AbiDecodingDataSizeTooSmallError||a instanceof s.PositionOutOfBoundsError)throw new r.DecodeLogDataMismatch({abiItem:i,data:c,params:x,size:(0,t.size)(c)});throw a}}else if(f)throw new r.DecodeLogDataMismatch({abiItem:i,data:"0x",params:x,size:0})}return{eventName:j,args:Object.values(m).length>0?m:void 0}}function y(a){let{abi:b,args:c,logs:d,strict:e=!0}=a,f=(()=>{if(a.eventName)return Array.isArray(a.eventName)?a.eventName:[a.eventName]})(),g=b.filter(a=>"event"===a.type).map(a=>({abi:a,selector:(0,q.toEventSelector)(a)}));return d.map(a=>{let b,d,h=g.filter(b=>a.topics[0]===b.selector);if(0===h.length)return null;for(let c of h)try{b=x({...a,abi:[c.abi],strict:!0}),d=c;break}catch{}if(!b&&!e){d=h[0];try{b=x({data:a.data,topics:a.topics,abi:[d.abi],strict:!1})}catch{let b=d.abi.inputs?.some(a=>!("name"in a&&a.name));return{...a,args:b?[]:{},eventName:d.abi.name}}}return b&&d&&(!f||f.includes(b.eventName))&&function(a){let{args:b,inputs:c,matchArgs:d}=a;if(!d)return!0;if(!b)return!1;function e(a,b,c){try{if("address"===a.type)return(0,n.isAddressEqual)(b,c);if("string"===a.type||"bytes"===a.type)return(0,p.keccak256)((0,o.toBytes)(b))===c;return b===c}catch{return!1}}return Array.isArray(b)&&Array.isArray(d)?d.every((a,d)=>{if(null==a)return!0;let f=c[d];return!!f&&(Array.isArray(a)?a:[a]).some(a=>e(f,a,b[d]))}):!("object"!=typeof b||Array.isArray(b)||"object"!=typeof d||Array.isArray(d))&&Object.entries(d).every(([a,d])=>{if(null==d)return!0;let f=c.find(b=>b.name===a);return!!f&&(Array.isArray(d)?d:[d]).some(c=>e(f,c,b[a]))})}({args:b.args,inputs:d.abi.inputs,matchArgs:c})?{...b,...a}:null}).filter(Boolean)}function z(a,{args:b,eventName:c}={}){return{...a,blockHash:a.blockHash?a.blockHash:null,blockNumber:a.blockNumber?BigInt(a.blockNumber):null,blockTimestamp:a.blockTimestamp?BigInt(a.blockTimestamp):null===a.blockTimestamp?null:void 0,logIndex:a.logIndex?Number(a.logIndex):null,transactionHash:a.transactionHash?a.transactionHash:null,transactionIndex:a.transactionIndex?Number(a.transactionIndex):null,...c?{args:b,eventName:c}:{}}}async function A(a,{address:b,blockHash:c,fromBlock:d,toBlock:e,event:f,events:g,args:i,strict:j}={}){let k=g??(f?[f]:void 0),l=[];k&&(l=[k.flatMap(a=>(0,m.encodeEventTopics)({abi:[a],eventName:a.name,args:g?void 0:i}))],f&&(l=l[0]));let n=(c?await a.request({method:"eth_getLogs",params:[{address:b,topics:l,blockHash:c}]}):await a.request({method:"eth_getLogs",params:[{address:b,topics:l,fromBlock:"bigint"==typeof d?(0,h.numberToHex)(d):d,toBlock:"bigint"==typeof e?(0,h.numberToHex)(e):e}]})).map(a=>z(a));return k?y({abi:k,args:i,logs:n,strict:j??!1}):n}async function B(a,b){let{abi:c,address:d,args:e,blockHash:f,eventName:g,fromBlock:h,toBlock:i,strict:j}=b,m=g?(0,k.getAbiItem)({abi:c,name:g}):void 0,n=m?void 0:c.filter(a=>"event"===a.type);return(0,l.getAction)(a,A,"getLogs")({address:d,args:e,blockHash:f,event:m,events:n,fromBlock:h,toBlock:i,strict:j})}a.s(["decodeEventLog",()=>x],859910),a.s(["formatLog",()=>z],429564),a.s(["getLogs",()=>A],173737),a.s(["getContractEvents",()=>B],238420);var C=a.i(391961);class D extends C.BaseError{constructor({address:a}){super(`No EIP-712 domain found on contract "${a}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${a}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}var E=a.i(823320);async function F(a,b){let{address:c,factory:d,factoryData:e}=b;try{let[b,f,g,h,i,j,k]=await (0,l.getAction)(a,E.readContract,"readContract")({abi:G,address:c,functionName:"eip712Domain",factory:d,factoryData:e});return{domain:{name:f,version:g,chainId:Number(h),verifyingContract:i,salt:j},extensions:k,fields:b}}catch(a){if("ContractFunctionExecutionError"===a.name&&"ContractFunctionZeroDataError"===a.cause.name)throw new D({address:c});throw a}}let G=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];async function H(a,{blockCount:b,blockNumber:c,blockTag:d="latest",rewardPercentiles:e}){var f;let g="bigint"==typeof c?(0,h.numberToHex)(c):void 0;return{baseFeePerGas:(f=await a.request({method:"eth_feeHistory",params:[(0,h.numberToHex)(b),g||d,e]},{dedupe:!!g})).baseFeePerGas.map(a=>BigInt(a)),gasUsedRatio:f.gasUsedRatio,oldestBlock:BigInt(f.oldestBlock),reward:f.reward?.map(a=>a.map(a=>BigInt(a)))}}async function I(a,{filter:b}){let c="strict"in b&&b.strict,d=await b.request({method:"eth_getFilterChanges",params:[b.id]});if("string"==typeof d[0])return d;let e=d.map(a=>z(a));return"abi"in b&&b.abi?y({abi:b.abi,logs:e,strict:c}):e}async function J(a,{filter:b}){let c=b.strict??!1,d=(await b.request({method:"eth_getFilterLogs",params:[b.id]})).map(a=>z(a));return b.abi?y({abi:b.abi,logs:d,strict:c}):d}async function K(a,{address:b,blockNumber:c,blockTag:d,storageKeys:e}){let f=void 0!==c?(0,h.numberToHex)(c):void 0;var i=await a.request({method:"eth_getProof",params:[b,e,f||(d??"latest")]});return{...i,balance:i.balance?BigInt(i.balance):void 0,nonce:i.nonce?(0,g.hexToNumber)(i.nonce):void 0,storageProof:i.storageProof?i.storageProof.map(a=>({...a,value:BigInt(a.value)})):void 0}}async function L(a,{address:b,blockNumber:c,blockTag:d="latest",slot:e}){let f=void 0!==c?(0,h.numberToHex)(c):void 0;return await a.request({method:"eth_getStorageAt",params:[b,e,f||d]})}a.s(["getEip712Domain",()=>F],392787),a.s(["getFeeHistory",()=>H],128620),a.s(["getFilterChanges",()=>I],322550),a.s(["getFilterLogs",()=>J],85733),a.s(["getProof",()=>K],848486),a.s(["getStorageAt",()=>L],484539);var M=a.i(956221),N=a.i(695881);async function O(a,{blockHash:b,blockNumber:c,blockTag:d,hash:e,index:f,sender:g,nonce:i}){let j=d||"latest",k=void 0!==c?(0,h.numberToHex)(c):void 0,l=null;if(e?l=await a.request({method:"eth_getTransactionByHash",params:[e]},{dedupe:!0}):b?l=await a.request({method:"eth_getTransactionByBlockHashAndIndex",params:[b,(0,h.numberToHex)(f)]},{dedupe:!0}):(k||j)&&"number"==typeof f?l=await a.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[k||j,(0,h.numberToHex)(f)]},{dedupe:!!k}):g&&"number"==typeof i&&(l=await a.request({method:"eth_getTransactionBySenderAndNonce",params:[g,(0,h.numberToHex)(i)]},{dedupe:!0})),!l)throw new M.TransactionNotFoundError({blockHash:b,blockNumber:c,blockTag:j,hash:e,index:f});return(a.chain?.formatters?.transaction?.format||N.formatTransaction)(l,"getTransaction")}async function P(a,{hash:b,transactionReceipt:c}){let[d,e]=await Promise.all([(0,l.getAction)(a,f,"getBlockNumber")({}),b?(0,l.getAction)(a,O,"getTransaction")({hash:b}):void 0]),g=c?.blockNumber||e?.blockNumber;return g?d-g+1n:0n}a.s(["getTransaction",()=>O],902164),a.s(["getTransactionConfirmations",()=>P],101038);var Q=a.i(505932);let R={"0x0":"reverted","0x1":"success"};function S(a,b){let c={...a,blockNumber:a.blockNumber?BigInt(a.blockNumber):null,contractAddress:a.contractAddress?a.contractAddress:null,cumulativeGasUsed:a.cumulativeGasUsed?BigInt(a.cumulativeGasUsed):null,effectiveGasPrice:a.effectiveGasPrice?BigInt(a.effectiveGasPrice):null,gasUsed:a.gasUsed?BigInt(a.gasUsed):null,logs:a.logs?a.logs.map(a=>z(a)):null,to:a.to?a.to:null,transactionIndex:a.transactionIndex?(0,g.hexToNumber)(a.transactionIndex):null,status:a.status?R[a.status]:null,type:a.type?N.transactionType[a.type]||a.type:null};return a.blobGasPrice&&(c.blobGasPrice=BigInt(a.blobGasPrice)),a.blobGasUsed&&(c.blobGasUsed=BigInt(a.blobGasUsed)),c}let T=(0,Q.defineFormatter)("transactionReceipt",S);async function U(a,{hash:b}){let c=await a.request({method:"eth_getTransactionReceipt",params:[b]},{dedupe:!0});if(!c)throw new M.TransactionReceiptNotFoundError({hash:b});return(a.chain?.formatters?.transactionReceipt?.format||S)(c,"getTransactionReceipt")}a.s(["defineTransactionReceipt",0,T,"formatTransactionReceipt",()=>S,"receiptStatuses",0,R],689711),a.s(["getTransactionReceipt",()=>U],291609)},625787,472049,986921,428304,286698,626625,248178,845179,83477,100851,491917,500902,229478,475826,385105,566308,615546,a=>{"use strict";var b=a.i(916175),c=a.i(158046),d=a.i(273454),e=a.i(75858),f=a.i(293710),g=a.i(885182),h=a.i(403272),i=a.i(311639),j=a.i(557283),k=a.i(983564),l=a.i(831369),m=a.i(15615),n=a.i(687616),o=a.i(44949),p=a.i(974869),q=a.i(959349),r=a.i(347020),s=a.i(417043),t=a.i(82588),u=a.i(438265),v=a.i(108567),w=a.i(364706),x=a.i(477963),y=a.i(238420),z=a.i(392787),A=a.i(128620),B=a.i(322550),C=a.i(85733),D=a.i(314384),E=a.i(173737),F=a.i(848486),G=a.i(484539),H=a.i(902164),I=a.i(101038),J=a.i(66484),K=a.i(291609),L=a.i(464613),M=a.i(823320),N=a.i(807522),O=a.i(148542),P=a.i(847536),Q=a.i(173440),R=a.i(827945),S=a.i(582183),T=a.i(38077),U=a.i(470994),V=a.i(475599),W=a.i(998393),X=a.i(16566),Y=a.i(931888),Z=a.i(429564),$=a.i(597867),_=a.i(968551),aa=a.i(644210);async function ab(a,b){let{blockNumber:c,blockTag:d=a.experimental_blockTag??"latest",blocks:e,returnFullTransactions:f,traceTransfers:g,validation:h}=b;try{let b=[];for(let a of e){let c=a.blockOverrides?N.toRpc(a.blockOverrides):void 0,d=a.calls.map(a=>{let b=a.account?(0,O.parseAccount)(a.account):void 0,c=a.abi?(0,T.encodeFunctionData)(a):a.data,d={...a,account:b,data:a.dataSuffix?(0,U.concat)([c||"0x",a.dataSuffix]):c,from:a.from??b?.address};return(0,aa.assertRequest)(d),(0,$.formatTransactionRequest)(d)}),e=a.stateOverrides?(0,_.serializeStateOverride)(a.stateOverrides):void 0;b.push({blockOverrides:c,calls:d,stateOverrides:e})}let i="bigint"==typeof c?(0,V.numberToHex)(c):void 0;return(await a.request({method:"eth_simulateV1",params:[{blockStateCalls:b,returnFullTransactions:f,traceTransfers:g,validation:h},i||d]})).map((a,b)=>({...(0,Y.formatBlock)(a),calls:a.calls.map((a,c)=>{let{abi:d,args:f,functionName:g,to:h}=e[b].calls[c],i=a.error?.data??a.returnData,j=BigInt(a.gasUsed),k=a.logs?.map(a=>(0,Z.formatLog)(a)),l="0x1"===a.status?"success":"failure",m=d&&"success"===l&&"0x"!==i?(0,S.decodeFunctionResult)({abi:d,data:i,functionName:g}):null,n=(()=>{let a;if("success"!==l&&("0x"===i?a=new P.AbiDecodingZeroDataError:i&&(a=new Q.RawContractError({data:i})),a))return(0,W.getContractError)(a,{abi:d??[],address:h??"0x",args:f,functionName:g??"<unknown>"})})();return{data:i,gasUsed:j,logs:k,status:l,..."success"===l?{result:m}:{error:n}}})}))}catch(b){let a=(0,X.getNodeError)(b,{});if(a instanceof R.UnknownNodeError)throw b;throw a}}var ac=a.i(105250),ad=a.i(262091),ae=a.i(761166),af=a.i(918243),ag=a.i(349432),ah=a.i(292214),ai=a.i(198737),aj=a.i(107944),ak=a.i(992084),al=a.i(168043);function am(a,b={}){let{as:c="string"==typeof a?"Hex":"Bytes"}=b,d=(0,ai.keccak_256)(ak.from(a));return"Bytes"===c?d:al.fromBytes(d)}function an(a,b={}){let{as:c="string"==typeof a?"Hex":"Bytes"}=b,d=(0,aj.sha256)(ak.from(a));return"Bytes"===c?d:al.fromBytes(d)}function ao(a){return al.validate(a)&&32===al.size(a)}a.s(["keccak256",()=>am,"sha256",()=>an,"validate",()=>ao],472049);class ap extends Map{constructor(a){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=a}get(a){let b=super.get(a);return super.has(a)&&void 0!==b&&(this.delete(a),super.set(a,b)),b}set(a,b){if(super.set(a,b),this.maxSize&&this.size>this.maxSize){let a=this.keys().next().value;a&&this.delete(a)}return this}}let aq={checksum:new ap(8192)}.checksum;var ar=ah,as=ah,at=a.i(90264);function au(a,b={}){let{compressed:c}=b,{prefix:d,x:e,y:f}=a;if(!1===c||"bigint"==typeof e&&"bigint"==typeof f){if(4!==d)throw new aA({prefix:d,cause:new aC});return}if(!0===c||"bigint"==typeof e&&void 0===f){if(3!==d&&2!==d)throw new aA({prefix:d,cause:new aB});return}throw new az({publicKey:a})}function av(a){let b=(()=>{if(al.validate(a))return aw(a);if(ak.validate(a)){var b;return b=a,aw(al.fromBytes(b))}let{prefix:c,x:d,y:e}=a;return"bigint"==typeof d&&"bigint"==typeof e?{prefix:c??4,x:d,y:e}:{prefix:c,x:d}})();return au(b),b}function aw(a){if(132!==a.length&&130!==a.length&&68!==a.length)throw new aD({publicKey:a});if(130===a.length)return{prefix:4,x:BigInt(al.slice(a,0,32)),y:BigInt(al.slice(a,32,64))};if(132===a.length){let b=Number(al.slice(a,0,1));return{prefix:b,x:BigInt(al.slice(a,1,33)),y:BigInt(al.slice(a,33,65))}}return{prefix:Number(al.slice(a,0,1)),x:BigInt(al.slice(a,1,33))}}function ax(a,b={}){return ak.fromHex(ay(a,b))}function ay(a,b={}){au(a);let{prefix:c,x:d,y:e}=a,{includePrefix:f=!0}=b;return al.concat(f?al.fromNumber(c,{size:1}):"0x",al.fromNumber(d,{size:32}),"bigint"==typeof e?al.fromNumber(e,{size:32}):"0x")}class az extends as.BaseError{constructor({publicKey:a}){super(`Value \`${at.stringify(a)}\` is not a valid public key.`,{metaMessages:["Public key must contain:","- an `x` and `prefix` value (compressed)","- an `x`, `y`, and `prefix` value (uncompressed)"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidError"})}}class aA extends as.BaseError{constructor({prefix:a,cause:b}){super(`Prefix "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidPrefixError"})}}class aB extends as.BaseError{constructor(){super("Prefix must be 2 or 3 for compressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidCompressedPrefixError"})}}class aC extends as.BaseError{constructor(){super("Prefix must be 4 for uncompressed public keys."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidUncompressedPrefixError"})}}class aD extends as.BaseError{constructor({publicKey:a}){super(`Value \`${a}\` is an invalid public key size.`,{metaMessages:["Expected: 33 bytes (compressed + prefix), 64 bytes (uncompressed) or 65 bytes (uncompressed + prefix).",`Received ${al.size(al.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"PublicKey.InvalidSerializedSizeError"})}}a.s(["from",()=>av,"toBytes",()=>ax,"toHex",()=>ay],986921);let aE=/^0x[a-fA-F0-9]{40}$/;function aF(a,b={}){let{strict:c=!0}=b;if(!aE.test(a))throw new aK({address:a,cause:new aL});if(c){if(a.toLowerCase()===a)return;if(aG(a)!==a)throw new aK({address:a,cause:new aM})}}function aG(a){if(aq.has(a))return aq.get(a);aF(a,{strict:!1});let b=a.substring(2).toLowerCase(),c=am(ak.fromString(b),{as:"Bytes"}),d=b.split("");for(let a=0;a<40;a+=2)c[a>>1]>>4>=8&&d[a]&&(d[a]=d[a].toUpperCase()),(15&c[a>>1])>=8&&d[a+1]&&(d[a+1]=d[a+1].toUpperCase());let e=`0x${d.join("")}`;return aq.set(a,e),e}function aH(a,b={}){let c=am(`0x${ay(a).slice(4)}`).substring(26);return function(a,b={}){let{checksum:c=!1}=b;return(aF(a),c)?aG(a):a}(`0x${c}`,b)}function aI(a,b){return aF(a,{strict:!1}),aF(b,{strict:!1}),a.toLowerCase()===b.toLowerCase()}function aJ(a,b={}){let{strict:c=!0}=b??{};try{return aF(a,{strict:c}),!0}catch{return!1}}class aK extends ar.BaseError{constructor({address:a,cause:b}){super(`Address "${a}" is invalid.`,{cause:b}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class aL extends ar.BaseError{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class aM extends ar.BaseError{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function aN(a){let b=!0,c="",d=0,e="",f=!1;for(let g=0;g<a.length;g++){let h=a[g];if(["(",")",","].includes(h)&&(b=!0),"("===h&&d++,")"===h&&d--,b){if(0===d){if(" "===h&&["event","function","error",""].includes(e))e="";else if(e+=h,")"===h){f=!0;break}continue}if(" "===h){","!==a[g-1]&&","!==c&&",("!==c&&(c="",b=!1);continue}e+=h,c+=h}}if(!f)throw new ah.BaseError("Unable to normalize signature.");return e}function aO(a,b={}){let{prepare:c=!0}=b,d=Array.isArray(a)||"string"==typeof a?function(a){let b;if("string"==typeof a)b=(0,ag.parseSignature)(a);else{let c=(0,af.parseStructs)(a),d=a.length;for(let e=0;e<d;e++){let d=a[e];if(!(0,ae.isStructSignature)(d)){b=(0,ag.parseSignature)(d,c);break}}}if(!b)throw new ad.InvalidAbiItemError({signature:a});return b}(a):a;return{...d,...c?{hash:aR(d)}:{}}}function aP(a,b,c){let d,{args:e=[],prepare:f=!0}=c??{},g=al.validate(b,{strict:!1}),h=a.filter(a=>g?"function"===a.type||"error"===a.type?aQ(a)===al.slice(b,0,4):"event"===a.type&&aR(a)===b:"name"in a&&a.name===b);if(0===h.length)throw new aT({name:b});if(1===h.length)return{...h[0],...f?{hash:aR(h[0])}:{}};for(let a of h){if("inputs"in a){if(!e||0===e.length){if(!a.inputs||0===a.inputs.length)return{...a,...f?{hash:aR(a)}:{}};continue}if(a.inputs&&0!==a.inputs.length&&a.inputs.length===e.length&&e.every((b,c)=>{let d="inputs"in a&&a.inputs[c];return!!d&&function a(b,c){let d=typeof b,e=c.type;switch(e){case"address":return aJ(b,{strict:!1});case"bool":return"boolean"===d;case"function":case"string":return"string"===d;default:if("tuple"===e&&"components"in c)return Object.values(c.components).every((c,d)=>a(Object.values(b)[d],c));if(/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(e))return"number"===d||"bigint"===d;if(/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(e))return"string"===d||b instanceof Uint8Array;if(/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(e))return Array.isArray(b)&&b.every(b=>a(b,{...c,type:e.replace(/(\[[0-9]{0,}\])$/,"")}));return!1}}(b,d)})){if(d&&"inputs"in d&&d.inputs){let b=function a(b,c,d){for(let e in b){let f=b[e],g=c[e];if("tuple"===f.type&&"tuple"===g.type&&"components"in f&&"components"in g)return a(f.components,g.components,d[e]);let h=[f.type,g.type];if(h.includes("address")&&h.includes("bytes20")||(h.includes("address")&&h.includes("string")||h.includes("address")&&h.includes("bytes"))&&aJ(d[e],{strict:!1}))return h}}(a.inputs,d.inputs,e);if(b)throw new aS({abiItem:a,type:b[0]},{abiItem:d,type:b[1]})}d=a}}}let i=(()=>{if(d)return d;let[a,...b]=h;return{...a,overloads:b}})();if(!i)throw new aT({name:b});return{...i,...f?{hash:aR(i)}:{}}}function aQ(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return aP(b,c)}return a[0]})();return al.slice(aR(b),0,4)}function aR(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return aP(b,c)}return a[0]})();return"string"!=typeof b&&"hash"in b&&b.hash?b.hash:am(al.fromString(function(...a){let b=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return aP(b,c)}return a[0]})();return aN("string"==typeof b?b:ac.formatAbiItem(b))}(b)))}a.s(["assert",()=>aF,"checksum",()=>aG,"fromPublicKey",()=>aH,"isEqual",()=>aI,"validate",()=>aJ],428304);class aS extends ah.BaseError{constructor(a,b){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${a.type}\` in \`${aN(ac.formatAbiItem(a.abiItem))}\`, and`,`\`${b.type}\` in \`${aN(ac.formatAbiItem(b.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class aT extends ah.BaseError{constructor({name:a,data:b,type:c="item"}){const d=a?` with name "${a}"`:b?` with data "${b}"`:"";super(`ABI ${c}${d} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}ah.BaseError;var aU=a.i(641207),aV=a.i(655831),aW=ah;let aX=/^(.*)\[([0-9]*)\]$/,aY=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,aZ=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,a$=2n**256n-1n;function a_(a){let b=0;for(let c=0;c<a.length;c++){let{dynamic:d,encoded:e}=a[c];d?b+=32:b+=al.size(e)}let c=[],d=[],e=0;for(let f=0;f<a.length;f++){let{dynamic:g,encoded:h}=a[f];g?(c.push(al.fromNumber(b+e,{size:32})),d.push(h),e+=al.size(h)):c.push(h)}return al.concat(...c,...d)}function a0(a){let b=a.match(/^(.*)\[(\d+)?\]$/);return b?[b[2]?Number(b[2]):null,b[1]]:void 0}function a1(a){let{type:b}=a;if("string"===b||"bytes"===b||b.endsWith("[]"))return!0;if("tuple"===b)return a.components?.some(a1);let c=a0(a.type);return!!(c&&a1({...a,type:c[1]}))}var a2=ah;let a3={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:1/0,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new a7({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(a){if(a<0||a>this.bytes.length-1)throw new a6({length:this.bytes.length,position:a})},decrementPosition(a){if(a<0)throw new a5({offset:a});let b=this.position-a;this.assertPosition(b),this.position=b},getReadCount(a){return this.positionReadCount.get(a||this.position)||0},incrementPosition(a){if(a<0)throw new a5({offset:a});let b=this.position+a;this.assertPosition(b),this.position=b},inspectByte(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectBytes(a,b){let c=b??this.position;return this.assertPosition(c+a-1),this.bytes.subarray(c,c+a)},inspectUint8(a){let b=a??this.position;return this.assertPosition(b),this.bytes[b]},inspectUint16(a){let b=a??this.position;return this.assertPosition(b+1),this.dataView.getUint16(b)},inspectUint24(a){let b=a??this.position;return this.assertPosition(b+2),(this.dataView.getUint16(b)<<8)+this.dataView.getUint8(b+2)},inspectUint32(a){let b=a??this.position;return this.assertPosition(b+3),this.dataView.getUint32(b)},pushByte(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushBytes(a){this.assertPosition(this.position+a.length-1),this.bytes.set(a,this.position),this.position+=a.length},pushUint8(a){this.assertPosition(this.position),this.bytes[this.position]=a,this.position++},pushUint16(a){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,a),this.position+=2},pushUint24(a){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,a>>8),this.dataView.setUint8(this.position+2,255&a),this.position+=3},pushUint32(a){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,a),this.position+=4},readByte(){this.assertReadLimit(),this._touch();let a=this.inspectByte();return this.position++,a},readBytes(a,b){this.assertReadLimit(),this._touch();let c=this.inspectBytes(a);return this.position+=b??a,c},readUint8(){this.assertReadLimit(),this._touch();let a=this.inspectUint8();return this.position+=1,a},readUint16(){this.assertReadLimit(),this._touch();let a=this.inspectUint16();return this.position+=2,a},readUint24(){this.assertReadLimit(),this._touch();let a=this.inspectUint24();return this.position+=3,a},readUint32(){this.assertReadLimit(),this._touch();let a=this.inspectUint32();return this.position+=4,a},get remaining(){return this.bytes.length-this.position},setPosition(a){let b=this.position;return this.assertPosition(a),this.position=a,()=>this.position=b},_touch(){if(this.recursiveReadLimit===1/0)return;let a=this.getReadCount();this.positionReadCount.set(this.position,a+1),a>0&&this.recursiveReadCount++}};function a4(a,{recursiveReadLimit:b=8192}={}){let c=Object.create(a3);return c.bytes=a,c.dataView=new DataView(a.buffer,a.byteOffset,a.byteLength),c.positionReadCount=new Map,c.recursiveReadLimit=b,c}class a5 extends a2.BaseError{constructor({offset:a}){super(`Offset \`${a}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class a6 extends a2.BaseError{constructor({length:a,position:b}){super(`Position \`${b}\` is out of bounds (\`0 < position < ${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class a7 extends a2.BaseError{constructor({count:a,limit:b}){super(`Recursive read limit of \`${b}\` exceeded (recursive read count: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function a8(a,b,c={}){let{as:d="Array",checksumAddress:e=!1}=c,f="string"==typeof b?ak.fromHex(b):b,g=a4(f);if(0===ak.size(f)&&a.length>0)throw new bd;if(ak.size(f)&&32>ak.size(f))throw new bc({data:"string"==typeof b?b:al.fromBytes(b),parameters:a,size:ak.size(f)});let h=0,i="Array"===d?[]:{};for(let b=0;b<a.length;++b){let c=a[b];g.setPosition(h);let[f,j]=function a(b,c,d){var e,f,g;let{checksumAddress:h,staticPosition:i}=d,j=a0(c.type);if(j){let[d,e]=j;return function(b,c,d){let{checksumAddress:e,length:f,staticPosition:g}=d;if(!f){let d=g+ak.toNumber(b.readBytes(32)),f=d+32;b.setPosition(d);let h=ak.toNumber(b.readBytes(32)),i=a1(c),j=0,k=[];for(let d=0;d<h;++d){b.setPosition(f+(i?32*d:j));let[g,h]=a(b,c,{checksumAddress:e,staticPosition:f});j+=h,k.push(g)}return b.setPosition(g+32),[k,32]}if(a1(c)){let d=g+ak.toNumber(b.readBytes(32)),h=[];for(let g=0;g<f;++g){b.setPosition(d+32*g);let[f]=a(b,c,{checksumAddress:e,staticPosition:d});h.push(f)}return b.setPosition(g+32),[h,32]}let h=0,i=[];for(let d=0;d<f;++d){let[d,f]=a(b,c,{checksumAddress:e,staticPosition:g+h});h+=f,i.push(d)}return[i,h]}(b,{...c,type:e},{checksumAddress:h,length:d,staticPosition:i})}if("tuple"===c.type)return function(b,c,d){let{checksumAddress:e,staticPosition:f}=d,g=0===c.components.length||c.components.some(({name:a})=>!a),h=g?[]:{},i=0;if(a1(c)){let d=f+ak.toNumber(b.readBytes(32));for(let f=0;f<c.components.length;++f){let j=c.components[f];b.setPosition(d+i);let[k,l]=a(b,j,{checksumAddress:e,staticPosition:d});i+=l,h[g?f:j?.name]=k}return b.setPosition(f+32),[h,32]}for(let d=0;d<c.components.length;++d){let j=c.components[d],[k,l]=a(b,j,{checksumAddress:e,staticPosition:f});h[g?d:j?.name]=k,i+=l}return[h,i]}(b,c,{checksumAddress:h,staticPosition:i});if("address"===c.type)return function(a,b={}){let c,{checksum:d=!1}=b,e=a.readBytes(32);return[(c=al.fromBytes(ak.slice(e,-20)),d?aG(c):c),32]}(b,{checksum:h});if("bool"===c.type){return e=b,[ak.toBoolean(e.readBytes(32),{size:32}),32]}if(c.type.startsWith("bytes"))return function(a,b,{staticPosition:c}){let[d,e]=b.type.split("bytes");if(!e){let b=ak.toNumber(a.readBytes(32));a.setPosition(c+b);let d=ak.toNumber(a.readBytes(32));if(0===d)return a.setPosition(c+32),["0x",32];let e=a.readBytes(d);return a.setPosition(c+32),[al.fromBytes(e),32]}return[al.fromBytes(a.readBytes(Number.parseInt(e,10),32)),32]}(b,c,{staticPosition:i});if(c.type.startsWith("uint")||c.type.startsWith("int")){let a,d,e;return f=b,a=(g=c).type.startsWith("int"),d=Number.parseInt(g.type.split("int")[1]||"256",10),e=f.readBytes(32),[d>48?ak.toBigInt(e,{signed:a}):ak.toNumber(e,{signed:a}),32]}if("string"===c.type)return function(a,{staticPosition:b}){let c=ak.toNumber(a.readBytes(32));a.setPosition(b+c);let d=ak.toNumber(a.readBytes(32));if(0===d)return a.setPosition(b+32),["",32];let e=a.readBytes(d,32),f=ak.toString(ak.trimLeft(e));return a.setPosition(b+32),[f,32]}(b,{staticPosition:i});throw new bi(c.type)}(g,c,{checksumAddress:e,staticPosition:0});h+=j,"Array"===d?i.push(f):i[c.name??b]=f}return i}function a9(a,b,c){let{checksumAddress:d=!1}=c??{};if(a.length!==b.length)throw new bg({expectedLength:a.length,givenLength:b.length});let e=a_(function({checksumAddress:a,parameters:b,values:c}){let d=[];for(let e=0;e<b.length;e++)d.push(function a({checksumAddress:b=!1,parameter:c,value:d}){let e=a0(c.type);if(e){let[f,g]=e;return function(b,c){let{checksumAddress:d,length:e,parameter:f}=c,g=null===e;if(!Array.isArray(b))throw new bh(b);if(!g&&b.length!==e)throw new be({expectedLength:e,givenLength:b.length,type:`${f.type}[${e}]`});let h=!1,i=[];for(let c=0;c<b.length;c++){let e=a({checksumAddress:d,parameter:f,value:b[c]});e.dynamic&&(h=!0),i.push(e)}if(g||h){let a=a_(i);if(g){let b=al.fromNumber(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?al.concat(b,a):b}}if(h)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:al.concat(...i.map(({encoded:a})=>a))}}(d,{checksumAddress:b,length:f,parameter:{...c,type:g}})}if("tuple"===c.type)return function(b,c){let{checksumAddress:d,parameter:e}=c,f=!1,g=[];for(let c=0;c<e.components.length;c++){let h=e.components[c],i=Array.isArray(b)?c:h.name,j=a({checksumAddress:d,parameter:h,value:b[i]});g.push(j),j.dynamic&&(f=!0)}return{dynamic:f,encoded:f?a_(g):al.concat(...g.map(({encoded:a})=>a))}}(d,{checksumAddress:b,parameter:c});if("address"===c.type)return function(a,b){let{checksum:c=!1}=b;return aF(a,{strict:c}),{dynamic:!1,encoded:al.padLeft(a.toLowerCase())}}(d,{checksum:b});if("bool"===c.type){var f=d;if("boolean"!=typeof f)throw new ah.BaseError(`Invalid boolean value: "${f}" (type: ${typeof f}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:al.padLeft(al.fromBoolean(f))}}if(c.type.startsWith("uint")||c.type.startsWith("int")){let a=c.type.startsWith("int"),[,,b="256"]=aZ.exec(c.type)??[];return function(a,{signed:b,size:c}){if("number"==typeof c){let d=2n**(BigInt(c)-(b?1n:0n))-1n,e=b?-d-1n:0n;if(a>d||a<e)throw new al.IntegerOutOfRangeError({max:d.toString(),min:e.toString(),signed:b,size:c/8,value:a.toString()})}return{dynamic:!1,encoded:al.fromNumber(a,{size:32,signed:b})}}(d,{signed:a,size:Number(b)})}if(c.type.startsWith("bytes"))return function(a,{type:b}){let[,c]=b.split("bytes"),d=al.size(a);if(!c){let b=a;return d%32!=0&&(b=al.padRight(b,32*Math.ceil((a.length-2)/2/32))),{dynamic:!0,encoded:al.concat(al.padLeft(al.fromNumber(d,{size:32})),b)}}if(d!==Number.parseInt(c,10))throw new bf({expectedSize:Number.parseInt(c,10),value:a});return{dynamic:!1,encoded:al.padRight(a)}}(d,{type:c.type});if("string"===c.type){var g=d;let a=al.fromString(g),b=Math.ceil(al.size(a)/32),c=[];for(let d=0;d<b;d++)c.push(al.padRight(al.slice(a,32*d,(d+1)*32)));return{dynamic:!0,encoded:al.concat(al.padRight(al.fromNumber(al.size(a),{size:32})),...c)}}throw new bi(c.type)}({checksumAddress:a,parameter:b[e],value:c[e]}));return d}({checksumAddress:d,parameters:a,values:b}));return 0===e.length?"0x":e}function ba(a,b){if(a.length!==b.length)throw new bg({expectedLength:a.length,givenLength:b.length});let c=[];for(let d=0;d<a.length;d++){let e=a[d],f=b[d];c.push(ba.encode(e,f))}return al.concat(...c)}function bb(a){return Array.isArray(a)&&"string"==typeof a[0]||"string"==typeof a?function(a){let b=[];if("string"==typeof a){let c=(0,ag.splitParameters)(a),d=c.length;for(let a=0;a<d;a++)b.push((0,ag.parseAbiParameter)(c[a],{modifiers:ae.modifiers}))}else{let c=(0,af.parseStructs)(a),d=a.length;for(let e=0;e<d;e++){let d=a[e];if((0,ae.isStructSignature)(d))continue;let f=(0,ag.splitParameters)(d),g=f.length;for(let a=0;a<g;a++)b.push((0,ag.parseAbiParameter)(f[a],{modifiers:ae.modifiers,structs:c}))}}if(0===b.length)throw new aV.InvalidAbiParametersError({params:a});return b}(a):a}(ba||(ba={})).encode=function a(b,c,d=!1){if("address"===b)return aF(c),al.padLeft(c.toLowerCase(),32*!!d);if("string"===b)return al.fromString(c);if("bytes"===b)return c;if("bool"===b)return al.padLeft(al.fromBoolean(c),d?32:1);let e=b.match(aZ);if(e){let[a,b,f="256"]=e,g=Number.parseInt(f,10)/8;return al.fromNumber(c,{size:d?32:g,signed:"int"===b})}let f=b.match(aY);if(f){let[a,b]=f;if(Number.parseInt(b,10)!==(c.length-2)/2)throw new bf({expectedSize:Number.parseInt(b,10),value:c});return al.padRight(c,32*!!d)}let g=b.match(aX);if(g&&Array.isArray(c)){let[b,d]=g,e=[];for(let b=0;b<c.length;b++)e.push(a(d,c[b],!0));return 0===e.length?"0x":al.concat(...e)}throw new bi(b)};class bc extends aW.BaseError{constructor({data:a,parameters:b,size:c}){super(`Data size of ${c} bytes is too small for given parameters.`,{metaMessages:[`Params: (${aU.formatAbiParameters(b)})`,`Data:   ${a} (${c} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class bd extends aW.BaseError{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class be extends aW.BaseError{constructor({expectedLength:a,givenLength:b,type:c}){super(`Array length mismatch for type \`${c}\`. Expected: \`${a}\`. Given: \`${b}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class bf extends aW.BaseError{constructor({expectedSize:a,value:b}){super(`Size of bytes "${b}" (bytes${al.size(b)}) does not match expected size (bytes${a}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class bg extends aW.BaseError{constructor({expectedLength:a,givenLength:b}){super(`ABI encoding parameters/values length mismatch.
Expected length (parameters): ${a}
Given length (values): ${b}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class bh extends aW.BaseError{constructor(a){super(`Value \`${a}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class bi extends aW.BaseError{constructor(a){super(`Type \`${a}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function bj(a,b={}){return aO(a,b)}function bk(a,b,c){let d=aP(a,b,c);if("function"!==d.type)throw new aT({name:b,type:"function"});return d}let bl="0x0000000000000000000000000000000000000000";var bm=a.i(327923),bn=a.i(391961),bo=a.i(154561);async function bp(a,b){let{blockNumber:c,blockTag:d,calls:e,stateOverrides:f,traceAssetChanges:g,traceTransfers:i,validation:j}=b,k=b.account?(0,O.parseAccount)(b.account):void 0;if(g&&!k)throw new bn.BaseError("`account` is required when `traceAssetChanges` is true");let l=k?function(...a){let[b,c]=(()=>{if(Array.isArray(a[0])){let[b,c]=a;return[function(a){let b=a.find(a=>"constructor"===a.type);if(!b)throw new aT({name:"constructor"});return b}(b),c]}return a})(),{bytecode:d,args:e}=c;return al.concat(d,b.inputs?.length&&e?.length?a9(b.inputs,e):"0x")}(aO("constructor(bytes, bytes)"),{bytecode:bm.deploylessCallViaBytecodeBytecode,args:["0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033",function(...a){let[b,c=[]]=(()=>{if(Array.isArray(a[0])){let[b,c,d]=a;return[bk(b,c,{args:d}),d]}let[b,c]=a;return[b,c]})(),{overloads:d}=b,e=d?bk([b,...d],b.name,{args:c}):b,f=aQ(e),g=c.length>0?a9(e.inputs,c):void 0;return g?al.concat(f,g):f}(bj("function getBalance(address)"),[k.address])]}):void 0,m=g?await Promise.all(b.calls.map(async b=>{if(!b.data&&!b.abi)return;let{accessList:c}=await (0,h.createAccessList)(a,{account:k.address,...b,data:b.abi?(0,T.encodeFunctionData)(b):b.data});return c.map(({address:a,storageKeys:b})=>b.length>0?a:null)})).then(a=>a.flat().filter(Boolean)):[],n=await ab(a,{blockNumber:c,blockTag:d,blocks:[...g?[{calls:[{data:l}],stateOverrides:f},{calls:m.map((a,b)=>({abi:[bj("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[k.address],to:a,from:bl,nonce:b})),stateOverrides:[{address:bl,nonce:0}]}]:[],{calls:[...e,{}].map(a=>({...a,from:k?.address})),stateOverrides:f},...g?[{calls:[{data:l}]},{calls:m.map((a,b)=>({abi:[bj("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[k.address],to:a,from:bl,nonce:b})),stateOverrides:[{address:bl,nonce:0}]},{calls:m.map((a,b)=>({to:a,abi:[bj("function decimals() returns (uint256)")],functionName:"decimals",from:bl,nonce:b})),stateOverrides:[{address:bl,nonce:0}]},{calls:m.map((a,b)=>({to:a,abi:[bj("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:bl,nonce:b})),stateOverrides:[{address:bl,nonce:0}]},{calls:m.map((a,b)=>({to:a,abi:[bj("function symbol() returns (string)")],functionName:"symbol",from:bl,nonce:b})),stateOverrides:[{address:bl,nonce:0}]}]:[]],traceTransfers:i,validation:j}),o=g?n[2]:n[0],[p,q,,r,s,t,u,v]=g?n:[],{calls:w,...x}=o,y=w.slice(0,-1)??[],z=[...p?.calls??[],...q?.calls??[]].map(a=>"success"===a.status?(0,bo.hexToBigInt)(a.data):null),A=[...r?.calls??[],...s?.calls??[]].map(a=>"success"===a.status?(0,bo.hexToBigInt)(a.data):null),B=(t?.calls??[]).map(a=>"success"===a.status?a.result:null),C=(v?.calls??[]).map(a=>"success"===a.status?a.result:null),D=(u?.calls??[]).map(a=>"success"===a.status?a.result:null),E=[];for(let[a,b]of A.entries()){let c=z[a];if("bigint"!=typeof b||"bigint"!=typeof c)continue;let d=B[a-1],e=C[a-1],f=D[a-1],g=0===a?{address:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",decimals:18,symbol:"ETH"}:{address:m[a-1],decimals:f||d?Number(d??1):void 0,symbol:e??void 0};E.some(a=>a.token.address===g.address)||E.push({token:g,value:{pre:c,post:b,diff:b-c}})}return{assetChanges:E,block:x,results:y}}var bq=a.i(242391);async function br(a,b){let{abi:c,address:d,args:e,functionName:f,dataSuffix:h="string"==typeof a.dataSuffix?a.dataSuffix:a.dataSuffix?.value,...i}=b,j=i.account?(0,O.parseAccount)(i.account):a.account,k=(0,T.encodeFunctionData)({abi:c,args:e,functionName:f});try{let{data:l}=await (0,bq.getAction)(a,g.call,"call")({batch:!1,data:`${k}${h?h.replace("0x",""):""}`,to:d,...i,account:j}),m=(0,S.decodeFunctionResult)({abi:c,args:e,functionName:f,data:l||"0x"}),n=c.filter(a=>"name"in a&&a.name===b.functionName);return{result:m,request:{abi:n,address:d,args:e,dataSuffix:h,functionName:f,...i,account:j}}}catch(a){throw(0,W.getContractError)(a,{abi:c,address:d,args:e,docsPath:"/docs/contract/simulateContract",functionName:f,sender:j?.address})}}async function bs(a,{filter:b}){return b.request({method:"eth_uninstallFilter",params:[b.id]})}var bt=ah;let bu="0x6492649264926492649264926492649264926492649264926492649264926492";function bv(a){if(al.slice(a,-32)!==bu)throw new bA(a)}function bw(a){return"string"==typeof a?bx(a):a}function bx(a){bv(a);let[b,c,d]=a8(bb("address, bytes, bytes"),a);return{data:c,signature:d,to:b}}function by(a){let{data:b,signature:c,to:d}=a;return al.concat(a9(bb("address, bytes, bytes"),[d,b,c]),bu)}function bz(a){try{return bv(a),!0}catch{return!1}}class bA extends bt.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>bA,"assert",()=>bv,"from",()=>bw,"magicBytes",0,bu,"universalSignatureValidatorAbi",0,[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],"universalSignatureValidatorBytecode",0,"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572","unwrap",()=>bx,"validate",()=>bz,"wrap",()=>by],325911);var bB=a.i(325911),bB=bB;function bC(a){var b;let c;return b=a,c="Hex",function a(b,c="Hex"){if(0===b.bytes.length)return"Hex"===c?al.fromBytes(b.bytes):b.bytes;let d=b.readByte();if(d<128&&b.decrementPosition(1),d<192){let a=bD(b,d,128),e=b.readBytes(a);return"Hex"===c?al.fromBytes(e):e}let e=bD(b,d,192);var f=b,g=e,h=c;let i=f.position,j=[];for(;f.position-i<g;)j.push(a(f,h));return j}(a4((()=>{if("string"==typeof b){if(b.length>3&&b.length%2!=0)throw new al.InvalidLengthError(b);return ak.fromHex(b)}return b})(),{recursiveReadLimit:1/0}),c)}function bD(a,b,c){if(128===c&&b<128)return 1;if(b<=c+55)return b-c;if(b===c+55+1)return a.readUint8();if(b===c+55+2)return a.readUint16();if(b===c+55+3)return a.readUint24();if(b===c+55+4)return a.readUint32();throw new ah.BaseError("Invalid RLP prefix")}function bE(a,b={}){let{as:c="Hex"}=b;return function(a,b){let{as:c}=b,d=function a(b){var c,d;let e,f,g,h;return Array.isArray(b)?(f=bF(e=(c=b.map(b=>a(b))).reduce((a,b)=>a+b.length,0)),{length:e<=55?1+e:1+f+e,encode(a){for(let{encode:b}of(e<=55?a.pushByte(192+e):(a.pushByte(247+f),1===f?a.pushUint8(e):2===f?a.pushUint16(e):3===f?a.pushUint24(e):a.pushUint32(e)),c))b(a)}}):(h=bF((g="string"==typeof(d=b)?ak.fromHex(d):d).length),{length:1===g.length&&g[0]<128?1:g.length<=55?1+g.length:1+h+g.length,encode(a){1===g.length&&g[0]<128||(g.length<=55?a.pushByte(128+g.length):(a.pushByte(183+h),1===h?a.pushUint8(g.length):2===h?a.pushUint16(g.length):3===h?a.pushUint24(g.length):a.pushUint32(g.length))),a.pushBytes(g)}})}(a),e=a4(new Uint8Array(d.length));return(d.encode(e),"Hex"===c)?al.fromBytes(e.bytes):e.bytes}(a,{as:c})}function bF(a){if(a<=255)return 1;if(a<=65535)return 2;if(a<=0xffffff)return 3;if(a<=0xffffffff)return 4;throw new ah.BaseError("Length is too large.")}a.s(["fromHex",()=>bE,"toHex",()=>bC],286698);var bG=ah;function bH(a,b={}){let{recovered:c}=b;if(void 0===a.r||void 0===a.s||c&&void 0===a.yParity)throw new bT({signature:a});if(a.r<0n||a.r>a$)throw new bU({value:a.r});if(a.s<0n||a.s>a$)throw new bV({value:a.s});if("number"==typeof a.yParity&&0!==a.yParity&&1!==a.yParity)throw new bW({value:a.yParity})}function bI(a){if(130!==a.length&&132!==a.length)throw new bS({signature:a});let b=BigInt(al.slice(a,0,32)),c=BigInt(al.slice(a,32,64)),d=(()=>{let b=Number(`0x${a.slice(130)}`);if(!Number.isNaN(b))try{return bQ(b)}catch{throw new bW({value:b})}})();return void 0===d?{r:b,s:c}:{r:b,s:c,yParity:d}}function bJ(a){if(void 0!==a.r&&void 0!==a.s)return bK(a)}function bK(a){let b=(()=>{var b;if("string"==typeof a)return bI(a);if(a instanceof Uint8Array)return bI(al.fromBytes(a));return"string"==typeof a.r?bL(a):a.v?{r:(b=a).r,s:b.s,yParity:bQ(b.v)}:{r:a.r,s:a.s,...void 0!==a.yParity?{yParity:a.yParity}:{}}})();return bH(b),b}function bL(a){let b=(()=>{let b=a.v?Number(a.v):void 0,c=a.yParity?Number(a.yParity):void 0;if("number"==typeof b&&"number"!=typeof c&&(c=bQ(b)),"number"!=typeof c)throw new bW({value:a.yParity});return c})();return{r:BigInt(a.r),s:BigInt(a.s),yParity:b}}function bM(a){let[b,c,d]=a;return bK({r:"0x"===c?0n:BigInt(c),s:"0x"===d?0n:BigInt(d),yParity:"0x"===b?0:Number(b)})}function bN(a){bH(a);let b=a.r,c=a.s;return al.concat(al.fromNumber(b,{size:32}),al.fromNumber(c,{size:32}),"number"==typeof a.yParity?al.fromNumber(bR(a.yParity),{size:1}):"0x")}function bO(a){let{r:b,s:c,yParity:d}=a;return{r:al.fromNumber(b,{size:32}),s:al.fromNumber(c,{size:32}),yParity:0===d?"0x0":"0x1"}}function bP(a){let{r:b,s:c,yParity:d}=a;return[d?"0x01":"0x",0n===b?"0x":al.trimLeft(al.fromNumber(b)),0n===c?"0x":al.trimLeft(al.fromNumber(c))]}function bQ(a){if(0===a||27===a)return 0;if(1===a||28===a)return 1;if(a>=35)return+(a%2==0);throw new bX({value:a})}function bR(a){if(0===a)return 27;if(1===a)return 28;throw new bW({value:a})}class bS extends bG.BaseError{constructor({signature:a}){super(`Value \`${a}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${al.size(al.from(a))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class bT extends bG.BaseError{constructor({signature:a}){super(`Signature \`${at.stringify(a)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class bU extends bG.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class bV extends bG.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class bW extends bG.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class bX extends bG.BaseError{constructor({value:a}){super(`Value \`${a}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function bY(a,b={}){return"string"==typeof a.chainId?bZ(a):{...a,...b.signature}}function bZ(a){let{address:b,chainId:c,nonce:d}=a,e=bJ(a);return{address:b,chainId:Number(c),nonce:BigInt(d),...e}}function b$(a){return a.map(bZ)}function b_(a){return function(a,b={}){let{presign:c}=b;return am(al.concat("0x05",bE(function(a){let{address:b,chainId:c,nonce:d}=a,e=bJ(a);return[c?al.fromNumber(c):"0x",b,d?al.fromNumber(d):"0x",...e?bP(e):[]]}(c?{address:a.address,chainId:a.chainId,nonce:a.nonce}:a))))}(a,{presign:!0})}function b0(a){let{address:b,chainId:c,nonce:d,...e}=a;return{address:b,chainId:al.fromNumber(c),nonce:al.fromNumber(d),...bO(e)}}function b1(a){return a.map(b0)}a.s(["assert",()=>bH,"extract",()=>bJ,"from",()=>bK,"fromHex",()=>bI,"fromRpc",()=>bL,"fromTuple",()=>bM,"toHex",()=>bN,"toRpc",()=>bO,"toTuple",()=>bP,"yParityToV",()=>bR],626625),a.s(["from",()=>bY,"fromRpcList",()=>b$,"getSignPayload",()=>b_,"toRpcList",()=>b1],248178);var b2=ah,b3=a.i(112889);function b4(a){return aH(function(a){let{payload:b,signature:c}=a,{r:d,s:e,yParity:f}=c;return av(new b3.secp256k1.Signature(BigInt(d),BigInt(e)).addRecoveryBit(f).recoverPublicKey(al.from(b).substring(2)))}(a))}function b5(a){let{address:b,hash:c,payload:d,publicKey:e,signature:f}=a;return b?aI(b,b4({payload:d,signature:f})):b3.secp256k1.verify(f,ak.from(d),ax(e),...c?[{prehash:!0,lowS:!0}]:[])}b3.secp256k1,a.s(["recoverAddress",()=>b4,"verify",()=>b5],845179);let b6="0x8010801080108010801080108010801080108010801080108010801080108010",b7=bb("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function b8(a){if("string"==typeof a){if(al.slice(a,-32)!==b6)throw new cd(a)}else bH(a.authorization)}function b9(a){return"string"==typeof a?ca(a):a}function ca(a){b8(a);let b=al.toNumber(al.slice(a,-64,-32)),c=al.slice(a,-b-64,-64),d=al.slice(a,0,-b-64),[e,f,g]=a8(b7,c);return{authorization:bY({address:e.delegation,chainId:Number(e.chainId),nonce:e.nonce,yParity:e.yParity,r:e.r,s:e.s}),signature:d,...g&&"0x"!==g?{data:g,to:f}:{}}}function cb(a){let{data:b,signature:c}=a;b8(a);let d=b4({payload:b_(a.authorization),signature:bK(a.authorization)}),e=a9(b7,[{...a.authorization,delegation:a.authorization.address,chainId:BigInt(a.authorization.chainId)},a.to??d,b??"0x"]),f=al.fromNumber(al.size(e),{size:32});return al.concat(c,e,f,b6)}function cc(a){try{return b8(a),!0}catch{return!1}}class cd extends b2.BaseError{constructor(a){super(`Value \`${a}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}}a.s(["InvalidWrappedSignatureError",()=>cd,"assert",()=>b8,"from",()=>b9,"magicBytes",0,b6,"suffixParameters",0,b7,"unwrap",()=>ca,"validate",()=>cc,"wrap",()=>cb],576939);var ce=a.i(576939),ce=ce,cf=a.i(621256),cg=a.i(590882),ch=a.i(355612),ci=a.i(492193),cj=a.i(230983);async function ck({address:a,authorization:b,signature:c}){return(0,ci.isAddressEqual)((0,ch.getAddress)(a),await (0,cj.recoverAuthorizationAddress)({authorization:b,signature:c}))}var cl=a.i(369052),cm=a.i(530535),cn=a.i(878694);async function co(a,b){let c,{address:d,chain:e=a.chain,hash:f,erc6492VerifierAddress:g=b.universalSignatureVerifierAddress??e?.contracts?.erc6492Verifier?.address,multicallAddress:h=b.multicallAddress??e?.contracts?.multicall3?.address}=b;if(e?.verifyHash)return await e.verifyHash(a,b);let i=(c=b.signature,(0,cl.isHex)(c)?c:"object"==typeof c&&"r"in c&&"s"in c?function({r:a,s:b,to:c="hex",v:d,yParity:e}){let f=(()=>{if(0===e||1===e)return e;if(d&&(27n===d||28n===d||d>=35n))return+(d%2n===0n);throw Error("Invalid `v` or `yParity` value")})(),g=`0x${new b3.secp256k1.Signature((0,bo.hexToBigInt)(a),(0,bo.hexToBigInt)(b)).toCompactHex()}${0===f?"1b":"1c"}`;return"hex"===c?g:(0,cn.hexToBytes)(g)}(c):(0,V.bytesToHex)(c));try{if(ce.validate(i))return await cp(a,{...b,multicallAddress:h,signature:i});return await cq(a,{...b,verifierAddress:g,signature:i})}catch(a){try{if((0,ci.isAddressEqual)((0,ch.getAddress)(d),await (0,cm.recoverAddress)({hash:f,signature:i})))return!0}catch{}if(a instanceof cs)return!1;throw a}}async function cp(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,multicallAddress:g}=b,{authorization:h,data:i,signature:j,to:k}=ce.unwrap(b.signature);if(await (0,x.getCode)(a,{address:c,blockNumber:d,blockTag:e})===(0,U.concatHex)(["0xef0100",h.address]))return await cr(a,{address:c,blockNumber:d,blockTag:e,hash:f,signature:j});let l={address:h.address,chainId:Number(h.chainId),nonce:Number(h.nonce),r:(0,V.numberToHex)(h.r,{size:32}),s:(0,V.numberToHex)(h.s,{size:32}),yParity:h.yParity};if(!await ck({address:c,authorization:l}))throw new cs;let m=await (0,bq.getAction)(a,M.readContract,"readContract")({...g?{address:g}:{code:bm.multicall3Bytecode},authorizationList:[l],abi:cf.multicall3Abi,blockNumber:d,blockTag:"pending",functionName:"aggregate3",args:[[...i?[{allowFailure:!0,target:k??c,callData:i}]:[],{allowFailure:!0,target:c,callData:(0,T.encodeFunctionData)({abi:cf.erc1271Abi,functionName:"isValidSignature",args:[f,j]})}]]}),n=m[m.length-1]?.returnData;if(n?.startsWith("0x1626ba7e"))return!0;throw new cs}async function cq(a,b){let{address:c,factory:d,factoryData:e,hash:f,signature:h,verifierAddress:i,...j}=b,k=await (async()=>!d&&!e||bB.validate(h)?h:bB.wrap({data:e,signature:h,to:d}))(),l=i?{to:i,data:(0,T.encodeFunctionData)({abi:cf.erc6492SignatureValidatorAbi,functionName:"isValidSig",args:[c,f,k]}),...j}:{data:(0,cg.encodeDeployData)({abi:cf.erc6492SignatureValidatorAbi,args:[c,f,k],bytecode:bm.erc6492SignatureValidatorByteCode}),...j},{data:m}=await (0,bq.getAction)(a,g.call,"call")(l).catch(a=>{if(a instanceof Q.CallExecutionError)throw new cs;throw a});if((0,bo.hexToBool)(m??"0x0"))return!0;throw new cs}async function cr(a,b){let{address:c,blockNumber:d,blockTag:e,hash:f,signature:g}=b;if((await (0,bq.getAction)(a,M.readContract,"readContract")({address:c,abi:cf.erc1271Abi,args:[f,g],blockNumber:d,blockTag:e,functionName:"isValidSignature"}).catch(a=>{if(a instanceof Q.ContractFunctionExecutionError)throw new cs;throw a})).startsWith("0x1626ba7e"))return!0;throw new cs}class cs extends Error{}a.s(["verifyHash",()=>co],83477);var ct=a.i(163977),cu=a.i(805554);function cv(a,b){let c,d;return(0,ct.keccak256)((c="string"==typeof a?(0,V.stringToHex)(a):"string"==typeof a.raw?a.raw:(0,V.bytesToHex)(a.raw),d=(0,V.stringToHex)(`\x19Ethereum Signed Message:
${(0,cu.size)(c)}`),(0,U.concat)([d,c])),b)}async function cw(a,{address:b,message:c,factory:d,factoryData:e,signature:f,...g}){let h=cv(c);return(0,bq.getAction)(a,co,"verifyHash")({address:b,factory:d,factoryData:e,hash:h,signature:f,...g})}a.s(["hashMessage",()=>cv],100851),a.s(["hashTypedData",()=>cJ],500902);var cx=a.i(141221);a.s(["getTypesForEIP712Domain",()=>cI,"serializeTypedData",()=>cG,"validateTypedData",()=>cH],491917);var cy=a.i(578428),cz=a.i(651587),cA=bn;class cB extends cA.BaseError{constructor({domain:a}){super(`Invalid domain "${(0,cz.stringify)(a)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class cC extends cA.BaseError{constructor({primaryType:a,types:b}){super(`Invalid primary type \`${a}\` must be one of \`${JSON.stringify(Object.keys(b))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class cD extends cA.BaseError{constructor({type:a}){super(`Struct type "${a}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}var cE=a.i(871793),cF=a.i(87956);function cG(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{let c={...b};for(let b of a){let{name:a,type:d}=b;"address"===d&&(c[a]=c[a].toLowerCase())}return c},g=e.EIP712Domain&&b?f(e.EIP712Domain,b):{},h=(()=>{if("EIP712Domain"!==d)return f(e[d],c)})();return(0,cz.stringify)({domain:g,message:h,primaryType:d,types:e})}function cH(a){let{domain:b,message:c,primaryType:d,types:e}=a,f=(a,b)=>{for(let c of a){let{name:a,type:d}=c,g=b[a],h=d.match(cF.integerRegex);if(h&&("number"==typeof g||"bigint"==typeof g)){let[a,b,c]=h;(0,V.numberToHex)(g,{signed:"int"===b,size:Number.parseInt(c,10)/8})}if("address"===d&&"string"==typeof g&&!(0,cE.isAddress)(g))throw new cy.InvalidAddressError({address:g});let i=d.match(cF.bytesRegex);if(i){let[a,b]=i;if(b&&(0,cu.size)(g)!==Number.parseInt(b,10))throw new P.BytesSizeMismatchError({expectedSize:Number.parseInt(b,10),givenSize:(0,cu.size)(g)})}let j=e[d];j&&(function(a){if("address"===a||"bool"===a||"string"===a||a.startsWith("bytes")||a.startsWith("uint")||a.startsWith("int"))throw new cD({type:a})}(d),f(j,g))}};if(e.EIP712Domain&&b){if("object"!=typeof b)throw new cB({domain:b});f(e.EIP712Domain,b)}if("EIP712Domain"!==d)if(e[d])f(e[d],c);else throw new cC({primaryType:d,types:e})}function cI({domain:a}){return["string"==typeof a?.name&&{name:"name",type:"string"},a?.version&&{name:"version",type:"string"},("number"==typeof a?.chainId||"bigint"==typeof a?.chainId)&&{name:"chainId",type:"uint256"},a?.verifyingContract&&{name:"verifyingContract",type:"address"},a?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function cJ(a){let{domain:b={},message:c,primaryType:d}=a,e={EIP712Domain:cI({domain:b}),...a.types};cH({domain:b,message:c,primaryType:d,types:e});let f=["0x1901"];return b&&f.push(function({domain:a,types:b}){return cK({data:a,primaryType:"EIP712Domain",types:b})}({domain:b,types:e})),"EIP712Domain"!==d&&f.push(cK({data:c,primaryType:d,types:e})),(0,ct.keccak256)((0,U.concat)(f))}function cK({data:a,primaryType:b,types:c}){let d=function a({data:b,primaryType:c,types:d}){let e=[{type:"bytes32"}],f=[function({primaryType:a,types:b}){let c=(0,V.toHex)(function({primaryType:a,types:b}){let c="",d=function a({primaryType:b,types:c},d=new Set){let e=b.match(/^\w*/u),f=e?.[0];if(d.has(f)||void 0===c[f])return d;for(let b of(d.add(f),c[f]))a({primaryType:b.type,types:c},d);return d}({primaryType:a,types:b});for(let e of(d.delete(a),[a,...Array.from(d).sort()]))c+=`${e}(${b[e].map(({name:a,type:b})=>`${b} ${a}`).join(",")})`;return c}({primaryType:a,types:b}));return(0,ct.keccak256)(c)}({primaryType:c,types:d})];for(let g of d[c]){let[c,h]=function b({types:c,name:d,type:e,value:f}){if(void 0!==c[e])return[{type:"bytes32"},(0,ct.keccak256)(a({data:f,primaryType:e,types:c}))];if("bytes"===e)return[{type:"bytes32"},(0,ct.keccak256)(f)];if("string"===e)return[{type:"bytes32"},(0,ct.keccak256)((0,V.toHex)(f))];if(e.lastIndexOf("]")===e.length-1){let a=e.slice(0,e.lastIndexOf("[")),g=f.map(e=>b({name:d,type:a,types:c,value:e}));return[{type:"bytes32"},(0,ct.keccak256)((0,cx.encodeAbiParameters)(g.map(([a])=>a),g.map(([,a])=>a)))]}return[{type:e},f]}({types:d,name:g.name,type:g.type,value:b[g.name]});e.push(c),f.push(h)}return(0,cx.encodeAbiParameters)(e,f)}({data:a,primaryType:b,types:c});return(0,ct.keccak256)(d)}async function cL(a,b){let{address:c,factory:d,factoryData:e,signature:f,message:g,primaryType:h,types:i,domain:j,...k}=b,l=cJ({message:g,primaryType:h,types:i,domain:j});return(0,bq.getAction)(a,co,"verifyHash")({address:c,factory:d,factoryData:e,hash:l,signature:f,...k})}var cM=a.i(493048),cN=a.i(956221);let cO=new Map,cP=new Map,cQ=0;function cR(a,b,c){let d=++cQ,e=()=>cO.get(a)||[],f=()=>{let b,c=e();if(!c.some(a=>a.id===d))return;let f=cP.get(a);if(1===c.length&&f){let a=f();a instanceof Promise&&a.catch(()=>{})}b=e(),cO.set(a,b.filter(a=>a.id!==d))},g=e();if(cO.set(a,[...g,{id:d,fns:b}]),g&&g.length>0)return f;let h={};for(let a in b)h[a]=(...b)=>{let c=e();if(0!==c.length)for(let d of c)d.fns[a]?.(...b)};let i=c(h);return"function"==typeof i&&cP.set(a,i),f}a.s(["observe",()=>cR],229478);var cS=a.i(352954),cT=a.i(524331),cU=a.i(117422);function cV(a,{emitOnBegin:b,initialWaitTime:c,interval:d}){let e=!0,f=()=>e=!1;return(async()=>{let g;b&&(g=await a({unpoll:f}));let h=await c?.(g)??d;await (0,cU.wait)(h);let i=async()=>{e&&(await a({unpoll:f}),await (0,cU.wait)(d),i())};i()})(),f}function cW(a,{emitOnBegin:b=!1,emitMissed:c=!1,onBlockNumber:d,onError:e,poll:f,pollingInterval:g=a.pollingInterval}){let h;return(void 0!==f?f:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?cR((0,cz.stringify)(["watchBlockNumber",a.uid,b,c,g]),{onBlockNumber:d,onError:e},d=>cV(async()=>{try{let b=await (0,bq.getAction)(a,u.getBlockNumber,"getBlockNumber")({cacheTime:0});if(void 0!==h){if(b===h)return;if(b-h>1&&c)for(let a=h+1n;a<b;a++)d.onBlockNumber(a,h),h=a}(void 0===h||b>h)&&(d.onBlockNumber(b,h),h=b)}catch(a){d.onError?.(a)}},{emitOnBegin:b,interval:g})):cR((0,cz.stringify)(["watchBlockNumber",a.uid,b,c]),{onBlockNumber:d,onError:e},b=>{let c=!0,d=()=>c=!1;return(async()=>{try{let e=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:f}=await e.subscribe({params:["newHeads"],onData(a){if(!c)return;let d=(0,bo.hexToBigInt)(a.result?.number);b.onBlockNumber(d,h),h=d},onError(a){b.onError?.(a)}});d=f,c||d()}catch(a){e?.(a)}})(),()=>d()})}async function cX(a,b){let c,d,e,f,g,{checkReplacement:h=!0,confirmations:i=1,hash:j,onReplaced:k,retryCount:l=6,retryDelay:m=({count:a})=>200*~~(1<<a),timeout:n=18e4}=b,o=(0,cz.stringify)(["waitForTransactionReceipt",a.uid,j]),p=b.pollingInterval?b.pollingInterval:a.chain?.experimental_preconfirmationTime?a.chain.experimental_preconfirmationTime:a.pollingInterval,q=!1,{promise:r,resolve:s,reject:u}=(0,cS.withResolvers)(),v=n?setTimeout(()=>{g?.(),f?.(),u(new cN.WaitForTransactionReceiptTimeoutError({hash:j}))},n):void 0;return f=cR(o,{onReplaced:k,resolve:s,reject:u},async b=>{if((e=await (0,bq.getAction)(a,K.getTransactionReceipt,"getTransactionReceipt")({hash:j}).catch(()=>void 0))&&i<=1){clearTimeout(v),b.resolve(e),f?.();return}g=(0,bq.getAction)(a,cW,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:p,async onBlockNumber(k){let n=a=>{clearTimeout(v),g?.(),a(),f?.()},o=k;if(!q)try{if(e){if(i>1&&(!e.blockNumber||o-e.blockNumber+1n<i))return;n(()=>b.resolve(e));return}if(h&&!c&&(q=!0,await (0,cT.withRetry)(async()=>{(c=await (0,bq.getAction)(a,H.getTransaction,"getTransaction")({hash:j})).blockNumber&&(o=c.blockNumber)},{delay:m,retryCount:l}),q=!1),e=await (0,bq.getAction)(a,K.getTransactionReceipt,"getTransactionReceipt")({hash:j}),i>1&&(!e.blockNumber||o-e.blockNumber+1n<i))return;n(()=>b.resolve(e))}catch(f){if(f instanceof cN.TransactionNotFoundError||f instanceof cN.TransactionReceiptNotFoundError){if(!c){q=!1;return}try{d=c,q=!0;let f=await (0,cT.withRetry)(()=>(0,bq.getAction)(a,t.getBlock,"getBlock")({blockNumber:o,includeTransactions:!0}),{delay:m,retryCount:l,shouldRetry:({error:a})=>a instanceof cM.BlockNotFoundError});q=!1;let g=f.transactions.find(({from:a,nonce:b})=>a===d.from&&b===d.nonce);if(!g||(e=await (0,bq.getAction)(a,K.getTransactionReceipt,"getTransactionReceipt")({hash:g.hash}),i>1&&(!e.blockNumber||o-e.blockNumber+1n<i)))return;let h="replaced";g.to===d.to&&g.value===d.value&&g.input===d.input?h="repriced":g.from===g.to&&0n===g.value&&(h="cancelled"),n(()=>{b.onReplaced?.({reason:h,replacedTransaction:d,transaction:g,transactionReceipt:e}),b.resolve(e)})}catch(a){n(()=>b.reject(a))}}else n(()=>b.reject(f))}}})}),r}a.s(["poll",()=>cV],475826),a.s(["waitForTransactionReceipt",()=>cX],385105);var cY=a.i(299354),cZ=a.i(859910),c$=a.i(844523);let c_=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,c0=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;async function c1(a,b){let{address:c,domain:d,message:e,nonce:f,scheme:g,signature:h,time:i=new Date,...j}=b,k=function(a){let{scheme:b,statement:c,...d}=a.match(c_)?.groups??{},{chainId:e,expirationTime:f,issuedAt:g,notBefore:h,requestId:i,...j}=a.match(c0)?.groups??{},k=a.split("Resources:")[1]?.split("\n- ").slice(1);return{...d,...j,...e?{chainId:Number(e)}:{},...f?{expirationTime:new Date(f)}:{},...g?{issuedAt:new Date(g)}:{},...h?{notBefore:new Date(h)}:{},...i?{requestId:i}:{},...k?{resources:k}:{},...b?{scheme:b}:{},...c?{statement:c}:{}}}(e);if(!k.address||!function(a){let{address:b,domain:c,message:d,nonce:e,scheme:f,time:g=new Date}=a;if(c&&d.domain!==c||e&&d.nonce!==e||f&&d.scheme!==f||d.expirationTime&&g>=d.expirationTime||d.notBefore&&g<d.notBefore)return!1;try{if(!d.address||!(0,cE.isAddress)(d.address,{strict:!1})||b&&!(0,ci.isAddressEqual)(d.address,b))return!1}catch{return!1}return!0}({address:c,domain:d,message:k,nonce:f,scheme:g,time:i}))return!1;let l=cv(e);return co(a,{address:k.address,hash:l,signature:h,...j})}var c2=a.i(550398);async function c3(a,{serializedTransaction:b}){return a.request({method:"eth_sendRawTransaction",params:[b]},{retryCount:0})}a.s(["sendRawTransaction",()=>c3],566308);var c4=a.i(689711);async function c5(a,{serializedTransaction:b,throwOnReceiptRevert:c,timeout:d}){let e=await a.request({method:"eth_sendRawTransactionSync",params:d?[b,(0,V.numberToHex)(d)]:[b]},{retryCount:0}),f=(a.chain?.formatters?.transactionReceipt?.format||c4.formatTransactionReceipt)(e);if("reverted"===f.status&&c)throw new cN.TransactionReceiptRevertedError({receipt:f});return f}function c6(a){return{call:b=>(0,g.call)(a,b),createAccessList:b=>(0,h.createAccessList)(a,b),createBlockFilter:()=>(0,i.createBlockFilter)(a),createContractEventFilter:b=>(0,j.createContractEventFilter)(a,b),createEventFilter:b=>(0,k.createEventFilter)(a,b),createPendingTransactionFilter:()=>(0,l.createPendingTransactionFilter)(a),estimateContractGas:b=>(0,m.estimateContractGas)(a,b),estimateGas:b=>(0,o.estimateGas)(a,b),getBalance:b=>(0,r.getBalance)(a,b),getBlobBaseFee:()=>(0,s.getBlobBaseFee)(a),getBlock:b=>(0,t.getBlock)(a,b),getBlockNumber:b=>(0,u.getBlockNumber)(a,b),getBlockTransactionCount:b=>(0,v.getBlockTransactionCount)(a,b),getBytecode:b=>(0,x.getCode)(a,b),getChainId:()=>(0,w.getChainId)(a),getCode:b=>(0,x.getCode)(a,b),getContractEvents:b=>(0,y.getContractEvents)(a,b),getEip712Domain:b=>(0,z.getEip712Domain)(a,b),getEnsAddress:c=>(0,b.getEnsAddress)(a,c),getEnsAvatar:b=>(0,c.getEnsAvatar)(a,b),getEnsName:b=>(0,d.getEnsName)(a,b),getEnsResolver:b=>(0,e.getEnsResolver)(a,b),getEnsText:b=>(0,f.getEnsText)(a,b),getFeeHistory:b=>(0,A.getFeeHistory)(a,b),estimateFeesPerGas:b=>(0,n.estimateFeesPerGas)(a,b),getFilterChanges:b=>(0,B.getFilterChanges)(a,b),getFilterLogs:b=>(0,C.getFilterLogs)(a,b),getGasPrice:()=>(0,D.getGasPrice)(a),getLogs:b=>(0,E.getLogs)(a,b),getProof:b=>(0,F.getProof)(a,b),estimateMaxPriorityFeePerGas:b=>(0,p.estimateMaxPriorityFeePerGas)(a,b),fillTransaction:b=>(0,q.fillTransaction)(a,b),getStorageAt:b=>(0,G.getStorageAt)(a,b),getTransaction:b=>(0,H.getTransaction)(a,b),getTransactionConfirmations:b=>(0,I.getTransactionConfirmations)(a,b),getTransactionCount:b=>(0,J.getTransactionCount)(a,b),getTransactionReceipt:b=>(0,K.getTransactionReceipt)(a,b),multicall:b=>(0,L.multicall)(a,b),prepareTransactionRequest:b=>(0,c2.prepareTransactionRequest)(a,b),readContract:b=>(0,M.readContract)(a,b),sendRawTransaction:b=>c3(a,b),sendRawTransactionSync:b=>c5(a,b),simulate:b=>ab(a,b),simulateBlocks:b=>ab(a,b),simulateCalls:b=>bp(a,b),simulateContract:b=>br(a,b),verifyHash:b=>co(a,b),verifyMessage:b=>cw(a,b),verifySiweMessage:b=>c1(a,b),verifyTypedData:b=>cL(a,b),uninstallFilter:b=>bs(a,b),waitForTransactionReceipt:b=>cX(a,b),watchBlocks:b=>(function(a,{blockTag:b=a.experimental_blockTag??"latest",emitMissed:c=!1,emitOnBegin:d=!1,onBlock:e,onError:f,includeTransactions:g,poll:h,pollingInterval:i=a.pollingInterval}){let j,k,l,m,n=void 0!==h?h:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),o=g??!1;return n?cR((0,cz.stringify)(["watchBlocks",a.uid,b,c,d,o,i]),{onBlock:e,onError:f},e=>cV(async()=>{try{let d=await (0,bq.getAction)(a,t.getBlock,"getBlock")({blockTag:b,includeTransactions:o});if(null!==d.number&&j?.number!=null){if(d.number===j.number)return;if(d.number-j.number>1&&c)for(let b=j?.number+1n;b<d.number;b++){let c=await (0,bq.getAction)(a,t.getBlock,"getBlock")({blockNumber:b,includeTransactions:o});e.onBlock(c,j),j=c}}(j?.number==null||"pending"===b&&d?.number==null||null!==d.number&&d.number>j.number)&&(e.onBlock(d,j),j=d)}catch(a){e.onError?.(a)}},{emitOnBegin:d,interval:i})):(k=!0,l=!0,m=()=>k=!1,(async()=>{try{d&&(0,bq.getAction)(a,t.getBlock,"getBlock")({blockTag:b,includeTransactions:o}).then(a=>{!k||l&&(e(a,void 0),l=!1)}).catch(f);let c=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),{unsubscribe:g}=await c.subscribe({params:["newHeads"],async onData(b){if(!k)return;let c=await (0,bq.getAction)(a,t.getBlock,"getBlock")({blockNumber:b.result?.number,includeTransactions:o}).catch(()=>{});k&&(e(c,j),l=!1,j=c)},onError(a){f?.(a)}});m=g,k||m()}catch(a){f?.(a)}})(),()=>m())})(a,b),watchBlockNumber:b=>cW(a,b),watchContractEvent:b=>(function(a,b){let c,d,e,f,{abi:g,address:h,args:i,batch:k=!0,eventName:l,fromBlock:m,onError:n,onLogs:o,poll:p,pollingInterval:q=a.pollingInterval,strict:r}=b;return(void 0!==p?p:"bigint"==typeof m||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type))?(c=r??!1,cR((0,cz.stringify)(["watchContractEvent",h,i,k,a.uid,l,q,c,m]),{onLogs:o,onError:n},b=>{let d,e;void 0!==m&&(d=m-1n);let f=!1,n=cV(async()=>{if(!f){try{e=await (0,bq.getAction)(a,j.createContractEventFilter,"createContractEventFilter")({abi:g,address:h,args:i,eventName:l,strict:c,fromBlock:m})}catch{}f=!0;return}try{let f;if(e)f=await (0,bq.getAction)(a,B.getFilterChanges,"getFilterChanges")({filter:e});else{let b=await (0,bq.getAction)(a,u.getBlockNumber,"getBlockNumber")({});f=d&&d<b?await (0,bq.getAction)(a,y.getContractEvents,"getContractEvents")({abi:g,address:h,args:i,eventName:l,fromBlock:d+1n,toBlock:b,strict:c}):[],d=b}if(0===f.length)return;if(k)b.onLogs(f);else for(let a of f)b.onLogs([a])}catch(a){e&&a instanceof cY.InvalidInputRpcError&&(f=!1),b.onError?.(a)}},{emitOnBegin:!0,interval:q});return async()=>{e&&await (0,bq.getAction)(a,bs,"uninstallFilter")({filter:e}),n()}})):(d=(0,cz.stringify)(["watchContractEvent",h,i,k,a.uid,l,q,r??!1]),e=!0,f=()=>e=!1,cR(d,{onLogs:o,onError:n},b=>((async()=>{try{let c=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),d=l?(0,c$.encodeEventTopics)({abi:g,eventName:l,args:i}):[],{unsubscribe:j}=await c.subscribe({params:["logs",{address:h,topics:d}],onData(a){if(!e)return;let c=a.result;try{let{eventName:a,args:d}=(0,cZ.decodeEventLog)({abi:g,data:c.data,topics:c.topics,strict:r}),e=(0,Z.formatLog)(c,{args:d,eventName:a});b.onLogs([e])}catch(f){let a,d;if(f instanceof P.DecodeLogDataMismatch||f instanceof P.DecodeLogTopicsMismatch){if(r)return;a=f.abiItem.name,d=f.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let e=(0,Z.formatLog)(c,{args:d?[]:{},eventName:a});b.onLogs([e])}},onError(a){b.onError?.(a)}});f=j,e||f()}catch(a){n?.(a)}})(),()=>f())))})(a,b),watchEvent:b=>(function(a,{address:b,args:c,batch:d=!0,event:e,events:f,fromBlock:g,onError:h,onLogs:i,poll:j,pollingInterval:l=a.pollingInterval,strict:m}){let n,o,p=void 0!==j?j:"bigint"==typeof g||"webSocket"!==a.transport.type&&"ipc"!==a.transport.type&&("fallback"!==a.transport.type||"webSocket"!==a.transport.transports[0].config.type&&"ipc"!==a.transport.transports[0].config.type),q=m??!1;return p?cR((0,cz.stringify)(["watchEvent",b,c,d,a.uid,e,l,g]),{onLogs:i,onError:h},h=>{let i,j;void 0!==g&&(i=g-1n);let m=!1,n=cV(async()=>{if(!m){try{j=await (0,bq.getAction)(a,k.createEventFilter,"createEventFilter")({address:b,args:c,event:e,events:f,strict:q,fromBlock:g})}catch{}m=!0;return}try{let g;if(j)g=await (0,bq.getAction)(a,B.getFilterChanges,"getFilterChanges")({filter:j});else{let d=await (0,bq.getAction)(a,u.getBlockNumber,"getBlockNumber")({});g=i&&i!==d?await (0,bq.getAction)(a,E.getLogs,"getLogs")({address:b,args:c,event:e,events:f,fromBlock:i+1n,toBlock:d}):[],i=d}if(0===g.length)return;if(d)h.onLogs(g);else for(let a of g)h.onLogs([a])}catch(a){j&&a instanceof cY.InvalidInputRpcError&&(m=!1),h.onError?.(a)}},{emitOnBegin:!0,interval:l});return async()=>{j&&await (0,bq.getAction)(a,bs,"uninstallFilter")({filter:j}),n()}}):(n=!0,o=()=>n=!1,(async()=>{try{let d=(()=>{if("fallback"===a.transport.type){let b=a.transport.transports.find(a=>"webSocket"===a.config.type||"ipc"===a.config.type);return b?b.value:a.transport}return a.transport})(),g=f??(e?[e]:void 0),j=[];g&&(j=[g.flatMap(a=>(0,c$.encodeEventTopics)({abi:[a],eventName:a.name,args:c}))],e&&(j=j[0]));let{unsubscribe:k}=await d.subscribe({params:["logs",{address:b,topics:j}],onData(a){if(!n)return;let b=a.result;try{let{eventName:a,args:c}=(0,cZ.decodeEventLog)({abi:g??[],data:b.data,topics:b.topics,strict:q}),d=(0,Z.formatLog)(b,{args:c,eventName:a});i([d])}catch(e){let a,c;if(e instanceof P.DecodeLogDataMismatch||e instanceof P.DecodeLogTopicsMismatch){if(m)return;a=e.abiItem.name,c=e.abiItem.inputs?.some(a=>!("name"in a&&a.name))}let d=(0,Z.formatLog)(b,{args:c?[]:{},eventName:a});i([d])}},onError(a){h?.(a)}});o=k,n||o()}catch(a){h?.(a)}})(),()=>o())})(a,b),watchPendingTransactions:b=>(function(a,{batch:b=!0,onError:c,onTransactions:d,poll:e,pollingInterval:f=a.pollingInterval}){let g,h;return(void 0!==e?e:"webSocket"!==a.transport.type&&"ipc"!==a.transport.type)?cR((0,cz.stringify)(["watchPendingTransactions",a.uid,b,f]),{onTransactions:d,onError:c},c=>{let d,e=cV(async()=>{try{if(!d)try{d=await (0,bq.getAction)(a,l.createPendingTransactionFilter,"createPendingTransactionFilter")({});return}catch(a){throw e(),a}let f=await (0,bq.getAction)(a,B.getFilterChanges,"getFilterChanges")({filter:d});if(0===f.length)return;if(b)c.onTransactions(f);else for(let a of f)c.onTransactions([a])}catch(a){c.onError?.(a)}},{emitOnBegin:!0,interval:f});return async()=>{d&&await (0,bq.getAction)(a,bs,"uninstallFilter")({filter:d}),e()}}):(g=!0,h=()=>g=!1,(async()=>{try{let{unsubscribe:b}=await a.transport.subscribe({params:["newPendingTransactions"],onData(a){if(!g)return;let b=a.result;d([b])},onError(a){c?.(a)}});h=b,g||h()}catch(a){c?.(a)}})(),()=>h())})(a,b)}}a.s(["sendRawTransactionSync",()=>c5],615546),a.s(["publicActions",()=>c6],625787)},869703,a=>{"use strict";var b=a.i(391961);class c extends b.BaseError{constructor({docsPath:a}={}){super("Could not find an Account to execute with this Action.\nPlease provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.",{docsPath:a,docsSlug:"account",name:"AccountNotFoundError"})}}class d extends b.BaseError{constructor({docsPath:a,metaMessages:b,type:c}){super(`Account type "${c}" is not supported.`,{docsPath:a,metaMessages:b,name:"AccountTypeNotSupportedError"})}}a.s(["AccountNotFoundError",()=>c,"AccountTypeNotSupportedError",()=>d])},337193,a=>{"use strict";var b=a.i(148542),c=a.i(869703),d=a.i(475599);async function e(a,{account:e=a.account,message:f}){if(!e)throw new c.AccountNotFoundError({docsPath:"/docs/actions/wallet/signMessage"});let g=(0,b.parseAccount)(e);if(g.signMessage)return g.signMessage({message:f});let h="string"==typeof f?(0,d.stringToHex)(f):f.raw instanceof Uint8Array?(0,d.toHex)(f.raw):f.raw;return a.request({method:"personal_sign",params:[h,g.address]},{retryCount:0})}a.s(["signMessage",()=>e])},700087,a=>{"use strict";var b=a.i(148542),c=a.i(654365);function d(a){let{batch:d,chain:e,ccipRead:f,dataSuffix:g,key:h="base",name:i="Base Client",type:j="base"}=a,k=a.experimental_blockTag??("number"==typeof e?.experimental_preconfirmationTime?"pending":void 0),l=Math.min(Math.max(Math.floor((e?.blockTime??12e3)/2),500),4e3),m=a.pollingInterval??l,n=a.cacheTime??m,o=a.account?(0,b.parseAccount)(a.account):void 0,{config:p,request:q,value:r}=a.transport({account:o,chain:e,pollingInterval:m}),s={account:o,batch:d,cacheTime:n,ccipRead:f,chain:e,dataSuffix:g,key:h,name:i,pollingInterval:m,request:q,transport:{...p,...r},type:j,uid:(0,c.uid)(),...k?{experimental_blockTag:k}:{}};return Object.assign(s,{extend:function a(b){return c=>{let d=c(b);for(let a in s)delete d[a];let e={...b,...d};return Object.assign(e,{extend:a(e)})}}(s)})}a.s(["createClient",()=>d])},499014,(a,b,c)=>{"use strict";var d=Object.prototype.hasOwnProperty,e="~";function f(){}function g(a,b,c){this.fn=a,this.context=b,this.once=c||!1}function h(a,b,c,d,f){if("function"!=typeof c)throw TypeError("The listener must be a function");var h=new g(c,d||a,f),i=e?e+b:b;return a._events[i]?a._events[i].fn?a._events[i]=[a._events[i],h]:a._events[i].push(h):(a._events[i]=h,a._eventsCount++),a}function i(a,b){0==--a._eventsCount?a._events=new f:delete a._events[b]}function j(){this._events=new f,this._eventsCount=0}Object.create&&(f.prototype=Object.create(null),new f().__proto__||(e=!1)),j.prototype.eventNames=function(){var a,b,c=[];if(0===this._eventsCount)return c;for(b in a=this._events)d.call(a,b)&&c.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(a)):c},j.prototype.listeners=function(a){var b=e?e+a:a,c=this._events[b];if(!c)return[];if(c.fn)return[c.fn];for(var d=0,f=c.length,g=Array(f);d<f;d++)g[d]=c[d].fn;return g},j.prototype.listenerCount=function(a){var b=e?e+a:a,c=this._events[b];return c?c.fn?1:c.length:0},j.prototype.emit=function(a,b,c,d,f,g){var h=e?e+a:a;if(!this._events[h])return!1;var i,j,k=this._events[h],l=arguments.length;if(k.fn){switch(k.once&&this.removeListener(a,k.fn,void 0,!0),l){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,b),!0;case 3:return k.fn.call(k.context,b,c),!0;case 4:return k.fn.call(k.context,b,c,d),!0;case 5:return k.fn.call(k.context,b,c,d,f),!0;case 6:return k.fn.call(k.context,b,c,d,f,g),!0}for(j=1,i=Array(l-1);j<l;j++)i[j-1]=arguments[j];k.fn.apply(k.context,i)}else{var m,n=k.length;for(j=0;j<n;j++)switch(k[j].once&&this.removeListener(a,k[j].fn,void 0,!0),l){case 1:k[j].fn.call(k[j].context);break;case 2:k[j].fn.call(k[j].context,b);break;case 3:k[j].fn.call(k[j].context,b,c);break;case 4:k[j].fn.call(k[j].context,b,c,d);break;default:if(!i)for(m=1,i=Array(l-1);m<l;m++)i[m-1]=arguments[m];k[j].fn.apply(k[j].context,i)}}return!0},j.prototype.on=function(a,b,c){return h(this,a,b,c,!1)},j.prototype.once=function(a,b,c){return h(this,a,b,c,!0)},j.prototype.removeListener=function(a,b,c,d){var f=e?e+a:a;if(!this._events[f])return this;if(!b)return i(this,f),this;var g=this._events[f];if(g.fn)g.fn!==b||d&&!g.once||c&&g.context!==c||i(this,f);else{for(var h=0,j=[],k=g.length;h<k;h++)(g[h].fn!==b||d&&!g[h].once||c&&g[h].context!==c)&&j.push(g[h]);j.length?this._events[f]=1===j.length?j[0]:j:i(this,f)}return this},j.prototype.removeAllListeners=function(a){var b;return a?(b=e?e+a:a,this._events[b]&&i(this,b)):(this._events=new f,this._eventsCount=0),this},j.prototype.off=j.prototype.removeListener,j.prototype.addListener=j.prototype.on,j.prefixed=e,j.EventEmitter=j,b.exports=j},194077,295593,a=>{"use strict";var b=a.i(499014);b.default,a.s([],194077),a.s(["EventEmitter",()=>b.default],295593)}];

//# sourceMappingURL=16012_ce9881d5._.js.map